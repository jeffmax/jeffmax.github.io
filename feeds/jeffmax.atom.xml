<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>jeffmax's blog</title><link href="http://jeffmax.io/" rel="alternate"></link><link href="http://jeffmax.io/feeds/jeffmax.atom.xml" rel="self"></link><id>http://jeffmax.io/</id><updated>2015-11-30T10:20:00+01:00</updated><entry><title>Visualizing Linear Regression and ANOVA</title><link href="http://jeffmax.io/visualizing-linear-regression-and-anova.html" rel="alternate"></link><updated>2015-11-30T10:20:00+01:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2015-11-30:visualizing-linear-regression-and-anova.html</id><summary type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/.ansibold{font-weight:700}.ansiblack{}.ansired{color:#8b0000}.ansigreen{6400}.ansiyellow{color:#c4a000}.ansiblue{8b}.ansipurple{color:#9400d3}.ansicyan{color:#4682b4}.ansigray{color:gray}.ansibgblack{background-}.ansibgred{background-color:red}.ansibggreen{background-color:green}.ansibgyellow{background-color:#ff0}.ansibgblue{background-f}.ansibgpurple{background-color:#ff00ff}.ansibgcyan{background-ff}.ansibggray{background-color:gray}div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;border-radius:2px;box-sizing:border-box;-moz-box-sizing:border-box;border-width:thin;border-style:solid;width:100%;padding:5px;margin:0;outline:0}div.cell.selected{border-color:#ababab}@media print{div.cell.selected{border-color:transparent}}.edit_mode div.cell.selected{border-color:green}.prompt{min-width:14ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}@-moz-document url-prefix(){div.inner_cell{overflow-x:hidden}}div.input_area{border:1px solid #cfcfcf;border-radius:2px;background:#f7f7f7;line-height:1.21429em}div.prompt:empty{padding-top:0;padding-bottom:0}div.unrecognized_cell{padding:5px 5px 5px 0;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.unrecognized_cell .inner_cell{border-radius:2px;padding:5px;font-weight:700;color:red;border:1px solid #cfcfcf;background:#eaeaea}div.unrecognized_cell .inner_cell a,div.unrecognized_cell .inner_cell a:hover{color:inherit;text-decoration:none}@media (max-width:540px){.prompt{text-align:left}div.unrecognized_cell&gt;div.prompt{display:none}}div.code_cell{}div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.input{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.input_prompt{color:navy;border-top:1px solid transparent}div.input_area&gt;div.highlight{margin:.4em;border:none;padding:0;background-color:transparent}div.input_area&gt;div.highlight&gt;pre{margin:0;border:none;padding:0;background-color:transparent}.CodeMirror{line-height:1.21429em;font-size:14px;height:auto;background:0 0}.CodeMirror-scroll{overflow-y:hidden;overflow-x:auto}.CodeMirror-lines{padding:.4em}.CodeMirror-linenumber{padding:0 8px 0 4px}.CodeMirror-gutters{border-bottom-left-radius:2px;border-top-left-radius:2px}.CodeMirror pre{padding:0;border:0;border-radius:0}.highlight-base,.highlight-variable{}.highlight-variable-2{color:#1a1a1a}.highlight-variable-3{color:#333}.highlight-string{color:#BA2121}.highlight-comment{color:#408080;font-style:italic}.highlight-number{80}.highlight-atom{color:#88F}.highlight-keyword{color:green;font-weight:700}.highlight-builtin{color:green}.highlight-error{color:red}.highlight-operator{color:#A2F;font-weight:700}.highlight-meta{color:#A2F}.highlight-def{f}.highlight-string-2{color:#f50}.highlight-qualifier{color:#555}.highlight-bracket{color:#997}.highlight-tag{color:#170}.highlight-attribute{c}.highlight-header{f}.highlight-quote{90}.highlight-link{c}.cm-s-ipython span.cm-keyword{color:green;font-weight:700}.cm-s-ipython span.cm-atom{color:#88F}.cm-s-ipython span.cm-number{80}.cm-s-ipython span.cm-def{f}.cm-s-ipython span.cm-variable{}.cm-s-ipython span.cm-operator{color:#A2F;font-weight:700}.cm-s-ipython span.cm-variable-2{color:#1a1a1a}.cm-s-ipython span.cm-variable-3{color:#333}.cm-s-ipython span.cm-comment{color:#408080;font-style:italic}.cm-s-ipython span.cm-string{color:#BA2121}.cm-s-ipython span.cm-string-2{color:#f50}.cm-s-ipython span.cm-meta{color:#A2F}.cm-s-ipython span.cm-qualifier{color:#555}.cm-s-ipython span.cm-builtin{color:green}.cm-s-ipython span.cm-bracket{color:#997}.cm-s-ipython span.cm-tag{color:#170}.cm-s-ipython span.cm-attribute{c}.cm-s-ipython span.cm-header{f}.cm-s-ipython span.cm-quote{90}.cm-s-ipython span.cm-link{c}.cm-s-ipython span.cm-error{color:red}.cm-s-ipython span.cm-tab{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=')right no-repeat}div.output_wrapper{display:-webkit-box;-webkit-box-align:stretch;display:-moz-box;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;z-index:1}div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:2px;-webkit-box-shadow:inset 0 2px 8px rgba(0,0,0,.8);box-shadow:inset 0 2px 8px rgba(0,0,0,.8);display:block}div.output_collapsed{margin:0;padding:0;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.out_prompt_overlay{height:100%;padding:0 .4em;position:absolute;border-radius:2px}div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000;box-shadow:inset 0 0 1px #000;background:rgba(240,240,240,.5)}div.output_prompt{color:#8b0000}div.output_area{padding:0;page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.output_area .MathJax_Display{text-align:left!important}div.output_area div.output_area img,div.output_area svg{max-width:100%;height:auto}div.output_area img.unconfined,div.output_area svg.unconfined{max-width:none}.output{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}@media (max-width:540px){div.output_area{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.output_area pre{margin:0;padding:0;border:0;vertical-align:baseline;background-color:transparent;border-radius:0}div.output_subarea{overflow-x:auto;padding:.4em;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1;max-width:calc(100% - 14ex)}div.output_text{text-align:left;line-height:1.21429em}div.output_stderr{background:#fdd}div.output_latex{text-align:left}div.output_javascript:empty{padding:0}.js-error{color:#8b0000}div.raw_input_container{font-family:monospace;padding-top:5px}span.raw_input_prompt{}input.raw_input{font-family:inherit;font-size:inherit;color:inherit;width:auto;vertical-align:baseline;padding:0 .25em;margin:0 .25em}input.raw_input:focus{box-shadow:none}p.p-space{margin-bottom:10px}div.output_unrecognized{padding:5px;font-weight:700;color:red}div.output_unrecognized a,div.output_unrecognized a:hover{color:inherit;text-decoration:none}.rendered_html{}.rendered_html :link,.rendered_html :visited,.rendered_html h1:first-child{margin-top:.538em}.rendered_html h2:first-child{margin-top:.636em}.rendered_html h3:first-child{margin-top:.777em}.rendered_html h4:first-child,.rendered_html h5:first-child,.rendered_html h6:first-child{margin-top:1em}.rendered_html *+ol,.rendered_html *+ul{margin-top:1em}.rendered_html *+table{margin-top:1em}.rendered_html *+p{margin-top:1em}.rendered_html *+img{margin-top:1em}div.text_cell{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.text_cell&gt;div.prompt{display:none}}div.text_cell_render{outline:0;resize:none;width:inherit;border-style:none;padding:.5em .5em .5em .4em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}a.anchor-link:link{text-decoration:none;padding:0 20px;visibility:hidden}h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible}.text_cell.rendered .input_area{display:none}.text_cell.rendered .text_cell.unrendered .text_cell_render{display:none}.cm-header-1,.cm-header-2,.cm-header-3,.cm-header-4,.cm-header-5,.cm-header-6{font-weight:700;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.cm-header-1{font-size:185.7%}.cm-header-2{font-size:157.1%}.cm-header-3{font-size:128.6%}.cm-header-4{font-size:110%}.cm-header-5,.cm-header-6{font-size:100%;font-style:italic}&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="ANOVA-and-Linear-Regression"&gt;ANOVA and Linear Regression&lt;a class="anchor-link" href="#ANOVA-and-Linear-Regression"&gt;¶&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;This notebook is meant to provide intuition behind how ANOVA and Linear Regression are the same model.&lt;/p&gt;
&lt;p&gt;First we need to import a few libraries and setup some data. Our fake data here is meant to show how fast in hours a drug relieves symptoms. We want to see if there is a difference between a control (placebo), regular, and extra strength version of the medications.&lt;/p&gt;
&lt;p&gt;Before looking at this notebook, this StackOverflow question is a good place to get a nice idea of what ANOVA is doing &lt;a href="http://stats.stackexchange.com/questions/5278/how-to-visualize-what-anova-does/5280#5280"&gt;http://stats.stackexchange.com/questions/5278/how-to-visualize-what-anova-does/5280#5280&lt;/a&gt; as well as this blog post &lt;a href="http://rpsychologist.com/d3-one-way-anova"&gt;http://rpsychologist.com/d3-one-way-anova&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;statsmodels.stats.anova&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;anova_lm&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;statsmodels.formula.api&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;mpl_toolkits.mplot3d&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Axes3D&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sns&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_style&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"whitegrid"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;matplotlib&lt;/span&gt; inline
&lt;span class="n"&gt;data_stacked&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="s"&gt;'hour'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="mi"&gt;22&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;13.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;21.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;20.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;33&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;32.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;29&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;27&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;22&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;24&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;27.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;28&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;span class="s"&gt;'treatment'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;'control'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'control'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'control'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'control'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'control'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'control'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'regular'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'regular'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'regular'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'regular'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'regular'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'regular'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'extra'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'extra'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'extra'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'extra'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'extra'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
              &lt;span class="s"&gt;'extra'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stderr output_text"&gt;
&lt;pre&gt;/usr/local/lib/python3.4/site-packages/matplotlib/__init__.py:872: UserWarning: axes.color_cycle is deprecated and replaced with axes.prop_cycle; please use the latter.
  warnings.warn(self.msg_depr % (key, alt_key))
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Next we use statsmodels to run an ANOVA on our data and view the results.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data_stacked&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'hour ~ C(treatment)'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;anova_lm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;F&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[14]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;12.327660801845996&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;We can see here that our ANOVA has a relatively large F-Value indicating that one or more of the group means differ from one another. We can visualize this by take a look at the three different groups side-by-side. Visualization inspired from &lt;a href="https://github.com/thomas-haslwanter/statsintro_python/blob/master/ipynb/8_anovaOneway.ipynb"&gt;https://github.com/thomas-haslwanter/statsintro_python/blob/master/ipynb/8_anovaOneway.ipynb&lt;/a&gt;, which is also a great resource for statistics in Python.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_axes&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data_stacked&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;"hour"&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data_stacked&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;"hour"&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data_stacked&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;"hour"&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xbound&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
gg==
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Visually, it looks the groups may have different means (or at least some of them differ). The results of the ANOVA back up this intuition. The numerator of the F-statistic is the variance between groups, and the denominator is the variance within groups. Intuitively, the larger F-statistic means that the variance between groups overshadows the variance within groups which indicates that the means of one or more of the groups likely differ. See here for more &lt;a href="https://en.wikipedia.org/wiki/F-test#Multiple-comparison_ANOVA_problems"&gt;https://en.wikipedia.org/wiki/F-test#Multiple-comparison_ANOVA_problems&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So what does this have to do with a linear regression? It turns out they are really the same thing but it requires that we re-code our variables using "dummy-coding" before running the regression. This means we create a new variable for each feature or group. The variable is equal to 1 when the depedendent variable (here, hours to relief) is from that group, and 0 when it is not. You only N - 1 dummy variables to represent N groups, because when the N - 1 variables are set to 0 it indicates that the dependent variable (hour) is from the left-out "reference" group. We will use the get_dummies function from the Pandas library below to create these new variables for us. After that, we will run a regression and confirm our resulting F-Value is the same as the ANOVA.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;dummies&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_dummies&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;treatment&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;prefix&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;'trt'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
&lt;span class="n"&gt;full_model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"hour ~ trt_regular + trt_extra"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concat&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dummies&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"F-value: %f"&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;full_model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fvalue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;full_model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;F-value: 12.327661
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Intercept      19.916667
trt_regular     8.833333
trt_extra       5.333333
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The F-Value is the same. Now in the context of a regression, the F-value compares our current model to the "reduced" model which only contains the intercept (&lt;a href="http://blog.minitab.com/blog/adventures-in-statistics/what-is-the-f-test-of-overall-significance-in-regression-analysis"&gt;http://blog.minitab.com/blog/adventures-in-statistics/what-is-the-f-test-of-overall-significance-in-regression-analysis&lt;/a&gt;
). We can think of this as answering the question: "Does the increased complexity of our current model deliver significantly better results than a much simpler model?" A larger F-value indicates that it does. But what does this have to do with the F-Value from ANOVA.&lt;/p&gt;
&lt;p&gt;Let's start by taking away the "extra strength" level of our factor and just looking at a graph of our "dummy variables" for "control" and "regular strength".&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;df2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concat&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dummies&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lmplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;'trt_regular'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;'hour'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;df2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,:])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stderr output_text"&gt;
&lt;pre&gt;/usr/local/lib/python3.4/site-packages/matplotlib/__init__.py:892: UserWarning: axes.color_cycle is deprecated and replaced with axes.prop_cycle; please use the latter.
  warnings.warn(self.msg_depr % (key, alt_key))
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
QAphEZGA/j/nSsvvN431vAAAAABJRU5ErkJggg==
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Here we only have one dummy variable (because we are looking at only two levels of our factor). The points above 0 (when the dummy variable for "regular strength" is 0) correspond to the control group, and the points above 1 correspond to the "regular strength" group. We have also have the corresponding regression line. As discussed above, our F-test is going to tell us whether this model, with effectively 1 feature, is significantly better than a straight horizontal line (intercept only). Intuitively it looks like the answer here would be yes.&lt;/p&gt;
&lt;p&gt;Below we run the regression and look at the results as well as the same two-level regression as ANOVA.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"hour ~ trt_regular"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,:])&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"F-value: %f"&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fvalue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;F-value: 19.574913
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[7]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Intercept      19.916667
trt_regular     8.833333
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'hour~ C(treatment)'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;df2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,:])&lt;/span&gt;
&lt;span class="n"&gt;fit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;anova_lm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;F&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[15]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;19.574912891986081&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Again, the F-Values are the same. We can also take a look in the regression coefficients to see what they are telling us about the dataset. The intercept is the mean of the control group.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;'Control'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c"&gt;# This is the intercept&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_text output_error"&gt;
&lt;pre&gt;
&lt;span class="ansired"&gt;---------------------------------------------------------------------------&lt;/span&gt;
&lt;span class="ansired"&gt;NameError&lt;/span&gt;                                 Traceback (most recent call last)
&lt;span class="ansigreen"&gt;&amp;lt;ipython-input-9-f0c17b48758c&amp;gt;&lt;/span&gt; in &lt;span class="ansicyan"&gt;&amp;lt;module&amp;gt;&lt;/span&gt;&lt;span class="ansiblue"&gt;()&lt;/span&gt;
&lt;span class="ansigreen"&gt;----&amp;gt; 1&lt;/span&gt;&lt;span class="ansired"&gt; &lt;/span&gt;np&lt;span class="ansiblue"&gt;.&lt;/span&gt;mean&lt;span class="ansiblue"&gt;(&lt;/span&gt;data&lt;span class="ansiblue"&gt;[&lt;/span&gt;&lt;span class="ansiblue"&gt;&amp;amp;apos;Control&amp;amp;apos;&lt;/span&gt;&lt;span class="ansiblue"&gt;]&lt;/span&gt;&lt;span class="ansiblue"&gt;)&lt;/span&gt; &lt;span class="ansired"&gt;# This is the intercept&lt;/span&gt;&lt;span class="ansiblue"&gt;&lt;/span&gt;

&lt;span class="ansired"&gt;NameError&lt;/span&gt;: name &amp;amp;apos;data&amp;amp;apos; is not defined&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;and the coefficient for the dummy variable plus the intercept is the mean of the "regular" treatment group.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;'regular'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="c"&gt;# This is intercept + Coefficient&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;You can read more about this here: &lt;a href="http://www.theanalysisfactor.com/why-anova-and-linear-regression-are-the-same-analysis/"&gt;http://www.theanalysisfactor.com/why-anova-and-linear-regression-are-the-same-analysis/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;So let's look back at the regression with both dummy-coded variables from above and extract formula for the corresponding regression equation (a plane in this case).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;full_model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;params&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;If we graph the dummy-coded groups (now in 3 dimensions) and show the plane, we can see that the F-test in this regression compares the two planes in the image, the one with the two dummy-encoded variables, and one contains only the intercept.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In [ ]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span class="n"&gt;way&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iloc&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;18&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gca&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;projection&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;'3d'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;way&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;'trt_regular'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;ys&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;way&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;'trt_extra'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;zs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;way&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;'hour'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'Extra'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_zlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'Hours'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'Regular'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ybound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xbound&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;view_init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x_surf&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.01&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y_surf&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.01&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x_surf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_surf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;meshgrid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_surf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_surf&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;z_surf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;19.9167&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;8.8333&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x_surf&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;5.3333&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;y_surf&lt;/span&gt; &lt;span class="c"&gt;# from the regression above&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot_surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_surf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_surf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z_surf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rstride&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cstride&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.25&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot_surface&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x_surf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y_surf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;19.9167&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;rstride&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cstride&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.25&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;It may not be completely obvious, but you can imagine that the plane using the two dummy-coded variables (on top) does a better job describing the 3 groups of dummy-coded variables in 3 dimensions than the plane that is described only by the intercept (below).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Other Links&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.unt.edu/rss/class/Jon/MiscDocs/Cohen_1968.pdf"&gt;http://www.unt.edu/rss/class/Jon/MiscDocs/Cohen_1968.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/justmarkham/DAT4/blob/master/notebooks/08_linear_regression.ipynb"&gt;https://github.com/justmarkham/DAT4/blob/master/notebooks/08_linear_regression.ipynb&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</summary><category term="statistics"></category><category term="stats"></category><category term="anova"></category><category term="linear regression"></category></entry><entry><title>Developer introduction to RSA keys and SSL certificates</title><link href="http://jeffmax.io/developer-introduction-to-rsa-keys-and-ssl-certificates.html" rel="alternate"></link><updated>2014-06-10T10:20:00+02:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2014-06-10:developer-introduction-to-rsa-keys-and-ssl-certificates.html</id><summary type="html">&lt;p&gt;Most of developers have had to generate a public/private key pair at one point or another. Often this is to create a certificate for a webserver, but it comes up for various reasons. Whenever I have to do this I am always extremely confused and amazed when it all works out, so in this post I am going to try to explain what is actually going on. Everything here will assume we are using RSA, which is complicated enough for one day.&lt;/p&gt;
&lt;p&gt;Caveat: I am not an expert (or even close) in cryptography. If anything is wrong in this article please use the comments section to correct me. I am very aware that wrong information in this topic is often much worse than no information at all.&lt;/p&gt;
&lt;h1&gt;The Basics&lt;/h1&gt;
&lt;p&gt;Using the openssl command you can do tons of stuff, so much stuff that sometimes it is very unclear what you are actually doing. Lets start with as basic as you can get.&lt;/p&gt;
&lt;h2&gt;Generate an RSA public/private key pair&lt;/h2&gt;
&lt;h3&gt;Private Key&lt;/h3&gt;
&lt;p&gt;As expained &lt;a href="http://stackoverflow.com/questions/5244129/openssl-use-rsa-private-key-to-generate-public-key"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;genrsa&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt; &lt;span class="mi"&gt;1024&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This creates a file called privatekey.pem. This is actually kind of confusing already, because that file actually contains both your private &lt;strong&gt;and&lt;/strong&gt; public key. &lt;/p&gt;
&lt;h4&gt;What is this .pem file&lt;/h4&gt;
&lt;p&gt;This .pem file holds your private/public keys. It is in the PEM encoding, which is a human readable version of the DER encoding (see below). If you open one, typically you will see some kind of header like -----BEGIN RSA PRIVATE KEY----- followed by a series of characters and then a footer. One file can contain a series of objects like this. The mess of characters is a base64 encoded of ASN.1. As PEM is encoding as well as used a file extension, you will sometimes see a .key or .crt or .pub file that is in PEM format. A .pem extension itself doesn't really tell us much about what is in it. A PEM encoded file can contain a private/public key pair, just a public key or an entire certificate. The one we just generated just contains a private/public key pair&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are also DER files that can contain the same information except in binary format and without the headers and footers. I have run into .der files because iOS expects them. This &lt;a href="http://serverfault.com/questions/9708/what-is-a-pem-file-and-how-does-it-differ-from-other-openssl-generated-key-file"&gt;link&lt;/a&gt; goes over some of the confusion points here. The openssl command can convert back and forth between this formats. DER encoding seems to be used more frequently (or perhaps all the time?) to hold certificates rather than just keys. Some .crt files are in DER format.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Public Key&lt;/h3&gt;
&lt;p&gt;So now we have this .pem file with a private and public key, but if you want to do anything useful with this stuff you will need to be able to share only your public key. So the following extracts your public key&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;rsa&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pubout&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;publickey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pub&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is a .pub file, but again, it's really just a PEM encoded file with only your public key. I believe the formats for these files are specified &lt;a href="http://tools.ietf.org/html/rfc3447#appendix-A.1.2"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Do something useful&lt;/h2&gt;
&lt;p&gt;So at this point, you have come to a cross road. What can we do with these things?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;We can generate a certificate for some task.&lt;/li&gt;
&lt;li&gt;We use them directly them for some larger crypto scheme like digital signatures.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Certificates&lt;/h3&gt;
&lt;p&gt;Certificates are useful if you are trying to setup a server for https or just need to work within the confines of a system that works best with certificates. For example, if you wanted to use your public key on iOS, the primitive functions exposed there expect a certificate even if you don't need any kind of chain of ownership. To generate a certificate you use openssl to create a Certificate Signing Request. In our case, we have already have a private/public key pair, so you would the following command&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;req&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="n"&gt;CSR&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;csr&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You would then either submit this to an organization that would sign it for you, or sign it yourself to create a self-signed certificate.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;x509&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;req&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt; &lt;span class="n"&gt;XXX&lt;/span&gt; &lt;span class="n"&gt;in&lt;/span&gt; &lt;span class="n"&gt;CSR&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;csr&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;signkey&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;our&lt;/span&gt; &lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ultimately if this was your goal, you could have done everything up to now (except extract the public key) in one step:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;openssl&lt;/span&gt; &lt;span class="n"&gt;req&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;x509&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;newkey&lt;/span&gt; &lt;span class="n"&gt;rsa&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2048&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;keyout&lt;/span&gt; &lt;span class="n"&gt;privatekey&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pem&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="n"&gt;cert&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;crt&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;days&lt;/span&gt; &lt;span class="n"&gt;XXX&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;See this &lt;a href="http://stackoverflow.com/questions/10175812/how-to-build-a-self-signed-certificate-with-openssl"&gt;link&lt;/a&gt; for a breakdown of this command and how to not require a password.&lt;/p&gt;
&lt;h4&gt;iOS&lt;/h4&gt;
&lt;p&gt;By the way, as mentioned briefly above, if you want to do anything involving a public/private key on iOS, you are going to want a self signed certificate in DER form.
This &lt;a href="http://stackoverflow.com/a/9764673/134930"&gt;link&lt;/a&gt; explains how to do this from scratch or from the .pem file we created in the first step. Keep in mind that you have a few options on iOS, but if you don't want a &lt;a href="http://jslim.net/blog/2013/06/24/rsa-decryption-on-ios/"&gt;solution&lt;/a&gt; that involves bundling openssl with your app, you need the self signed der file so you can use Apple's builtin functions. If you just want to verify a signed cert, I will go over that below.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Technically to use a public key on iOS you basically need to get your key into a SecKeyRef. There are various ways to do this, see &lt;a href="http://stackoverflow.com/questions/15438257/ios-verifying-a-file-with-a-certificate-and-signature-public-key-is-wrong-ve"&gt;here&lt;/a&gt; and &lt;a href="http://blog.flirble.org/2011/01/05/rsa-public-key-openssl-ios/"&gt;here&lt;/a&gt; and this &lt;a href="https://github.com/xjunior/XRSA"&gt;pod&lt;/a&gt;. If you just need to verify a signature, look at the first link. This &lt;a href="http://stackoverflow.com/questions/21724337/signing-and-verifying-on-ios-using-rsa"&gt;link&lt;/a&gt; doesn't show how to load the certifcate, but shows both signing and verifying. You may need to tweak the functions and constants referring to SHA1 if you want to use SHA256.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can always read the &lt;a href="https://developer.apple.com/library/prerelease/ios/documentation/Security/Conceptual/cryptoservices/CryptographyConcepts/CryptographyConcepts.html"&gt;Apple docs&lt;/a&gt; for more concrete information.&lt;/p&gt;
&lt;h5&gt;Verify a signature on iOS&lt;/h5&gt;
&lt;p&gt;Coming soon..&lt;/p&gt;
&lt;h3&gt;Use keys directly&lt;/h3&gt;
&lt;p&gt;Without a certificate (or with one) you can still create digital signatures for documents and verify them as well as encrypt and decrypt documents. You just use your private key to sign and other people use your public key to verify the signature (or someone else encrypts a document with your public key and you decrypt it with your private key). You can do this in Python using the M2Crypto, PyCrypt or rsa libraries. &lt;/p&gt;
&lt;p&gt;One thing to keep in mind- with RSA there is usually a "textbook" conceptual way to do things that involves the pure math, and then the safe, blessed implementation schemes. Something that really bit me once was that PyCrypt implements both a "textbook" version of RSA signatures and the two official signature schemes (RSASSA-PSS and
RSASSA-PKCS1-v1_5). Apparently the "textbook" one is not safe at all. See my comment &lt;a href="http://stackoverflow.com/a/24151428/134930"&gt;here&lt;/a&gt;. The difference between the "textbook" version and the two official schemes has to do with extra padding (or encoding) done between hashing and signing that prevents certain types of attacks. You can see technical details of the RSASSA-PCKS1-v1_5 &lt;a href="http://tools.ietf.org/html/rfc3447#section-9.2"&gt;here&lt;/a&gt;. One interesting thing to note there is that scheme hashes your document with a particular hash function (that you can specify) and then encodes which hash function was used as part of the padding before it actually signs. This is why depending on the api you might need to hash your document first and then pass a symbol indicating which hash function you used to the sign or verify method.
RSASSA-PSS is newer and seems to be generally recommended- but ultimately either is safer than naively hashing your document (with a SHA family function) and encrypting it with your RSA key (which is what I thought I could do after reading about digital signatures). &lt;/p&gt;</summary><category term="rsa"></category><category term="certificates"></category><category term="cryptography"></category></entry><entry><title>Using Python for Statistics Coursework</title><link href="http://jeffmax.io/using-python-for-statistics-coursework.html" rel="alternate"></link><updated>2014-06-08T10:20:00+02:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2014-06-08:using-python-for-statistics-coursework.html</id><summary type="html">&lt;p&gt;I am currently enrolled in an applied statistics program. For my course I really want to use the IPython Notebook. It allows me to do the calculations and show formulas all in one document. I have been trying figure out how to use Python instead of a statistics program. The functionality is all there, but is spread across different libraries, and there are many choices when it comes to graphing. In this post I will show to do some simple statistics (mostly related to linear regression) using Python.&lt;/p&gt;
&lt;h1&gt;Requirements&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;numpy&lt;/li&gt;
&lt;li&gt;scipy&lt;/li&gt;
&lt;li&gt;pandas&lt;/li&gt;
&lt;li&gt;statsmodels&lt;/li&gt;
&lt;li&gt;matplotlib&lt;/li&gt;
&lt;li&gt;seaborn&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Getting data into Python&lt;/h1&gt;
&lt;p&gt;Data is typically in some column-based format (either in Excel, or a tab/comma delimeted file). CSV is the easiest to import, so use Excel to export whatever you have into CSV. Then Pandas has a method to quickly get data from a CSV file into Python (into a Pandas DataFrame object). Pandas provides a lot of functionality, but at its core is the DataFrame and Series object.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;filename.csv&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index_col&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The DataFrame is made up of Series objects (one for each column of your data). You can easily get to a Series by indexing into the DataFrame.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The columns are basically Numpy arrays- you can easily apply an operation to every value in the column.&lt;/p&gt;
&lt;h1&gt;Simple scatter plot&lt;/h1&gt;
&lt;p&gt;One of the frustrating things about getting up to speed with performing statistics in Python is that there is often more than one way to accomplish something. For example, Pandas allows you to easily create a scatter plot of two variables, but you can also do this directly through Matplotlib. In general, in my limited experience, if you can avoid dropping down to matplotlib, then do so. People have spent a lot of time worrying about the details so you don't need to. Unfortunately, it is likely you will need to learn it at some point to get exactly what you want.&lt;/p&gt;
&lt;h1&gt;With pandas&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Columns2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;kind&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;scatter&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Matplotlib&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;column1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;column2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_axes&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;column1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;column2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There are quite a few ways to accomplish the same thing in matplotlib. &lt;a href="http://matplotlib.org/1.3.1/users/pyplot_tutorial.html"&gt;This post&lt;/a&gt; is a decent place to get started, although it uses the Matlab style interface which I find gets confusing very fast. The alternative (and the one I used above) is the object oriented mode where you instantiate individual figure objects and operate on them instead of using a implicit global figure object. &lt;a href="http://nbviewer.ipython.org/github/jrjohansson/scientific-python-lectures/blob/master/Lecture-4-Matplotlib.ipynb"&gt;This link&lt;/a&gt; does a good job showing examples of both styles: .&lt;/p&gt;
&lt;p&gt;A tip- seaborn, which is a library for statistics visualization that uses matplotlib, will set some visual defaults for matplotlib as soon as you import it. Try importing and regenerating one of the graphs above to see the difference.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sns&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Simple Linear Regression&lt;/h1&gt;
&lt;p&gt;Another example, you can do simple linear regression using the statsmodels library, but Pandas wraps that functionality up making it a little easier to perform when you are working with a DataFrame object. &lt;/p&gt;
&lt;h2&gt;Directly through Pandas DataFrame&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pandas.stats.api&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;
&lt;span class="n"&gt;ols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column2]))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Statsmodels&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;statsmodels.api&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sm&lt;/span&gt;
&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_constant&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;OLS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can also use the statsmodel formula api to do the same thing&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Column2 ~ Column1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Residuals vs Fits&lt;/h2&gt;
&lt;p&gt;Generating a graph of residuals versus the fitted y values has come up a few times. I searched for a library that does this out of the box, but could not find it. Seaborn comes close with:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sns&lt;/span&gt;
&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;residplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Column2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But unfortunately this creates a plot of residuals vs the x values. I think in many situations, this graph will tell you the same thing as residuals versus fitted values, but it is not what I was looking for. Here is how to create it with vanilla matplotlib:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;fitted&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;0.7&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="c"&gt;# This just needs to be whatever the linear regrsssion equation is&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_axes&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; 
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;axhline&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;color&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ls&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;--&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# This creates a horizon line (like abline in R)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xlabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Fitted Value&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_ylabel&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Residuals&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Residuals Versus Fits&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;scatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fitted&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Column2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;  &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;fitted&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;marker&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;ANOVA for linear regression&lt;/h2&gt;
&lt;p&gt;Not much to say here.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;statsmodels.stats.anova&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;anova_lm&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;statsmodels.formula.api&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;

&lt;span class="n"&gt;model&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ols&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;Column2 ~ Column1&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;anova_lm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fit&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="statistics"></category><category term="python"></category><category term="seaborn"></category><category term="ggplot2"></category><category term="bokeh"></category><category term="pandas"></category><category term="statsmodels"></category></entry><entry><title>Distributing iOS App Updates to Beta Testers</title><link href="http://jeffmax.io/distributing-ios-app-updates-to-beta-testers.html" rel="alternate"></link><updated>2013-11-16T11:38:00+01:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2013-11-16:distributing-ios-app-updates-to-beta-testers.html</id><summary type="html">&lt;p&gt;When you are writing an iOS app and have beta testers you need a method to update their devices with your latest release. Running around with a laptop and a cable will get old very fast. There are a few commercial solutions that I am sure work well, but this method is free and fairly painless.&lt;/p&gt;
&lt;p&gt;This post is a recapitulation of several posts already available on the web (see &lt;a href="http://readwrite.com/2010/12/15/apple-best-kept-secret-how-to-do-ad-hoc-installs"&gt;here&lt;/a&gt;, &lt;a href="http://www.paradeofrain.com/2010/11/taking-the-pain-out-of-ad-hoc-testing/"&gt;here&lt;/a&gt;, and especially &lt;a href="http://jeffreysambells.com/2010/06/22/ios-wireless-app-distribution"&gt;here&lt;/a&gt; ) but I wanted to put all the details in one place updated for the latest changes to XCode Menu names and using Github Releases. Much of this information can also be found in Apple's Documentation. This link may be useful: &lt;/p&gt;
&lt;p&gt;&lt;a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/TestingYouriOSApp/TestingYouriOSApp.html"&gt;Apple Testing Documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The basis tasks are:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create an adhoc profile on the Apple developer site including each beta testers device id. This creates a .mobileprovision file.&lt;/li&gt;
&lt;li&gt;Create an Archive for your application. This creates a plist file and[A] an .ipa file.&lt;/li&gt;
&lt;li&gt;Post all three files on the internet (or an intranet). You can use Github Releases.&lt;/li&gt;
&lt;li&gt;Create a simple HTML file (see this link for the original source of this idea http://jeffreysambells.com/2010/06/22/ios-wireless-app-distribution) that the users will navigate to on their device. The HTML file will contain a link that will allow them to install the latest version of your app.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Now the details:&lt;/p&gt;
&lt;h2&gt;Step 1, Hang out on the Apple Developer site for a while&lt;/h2&gt;
&lt;p&gt;I won't pretend to have a solid fundamental understanding of Apple's certificate/provisioning/profile setup/mess, but for this task you definitely need to create an Adhoc Provisioning Profile. This falls into the Distribution category of profiles (as opposed to Development). I am going to list what worked for me circa November 2013.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Go to the "Certificates, Identifiers &amp;amp; Profiles" section of the Apple Developer site.&lt;/li&gt;
&lt;li&gt;You need a Distribution Certificate for this task. Create one under "Certificates -&amp;gt; Production".&lt;/li&gt;
&lt;li&gt;Register all your beta tester's iOS devices in the "Devices" section. You will need each device's UDID. You can get this by plugging the device into your Mac and opening up the Organizer in XCode (intuitively hidden under "Windows -&amp;gt; Organizer").&lt;/li&gt;
&lt;li&gt;You need an App ID. I believe since your app is not actually going into the App Store yet you can get away with using a wild card App ID. Create this under the "Identifiers" section of the website.&lt;/li&gt;
&lt;li&gt;Create your Adhoc Provisioning Profile under "Provisioning Profiles -&amp;gt; Distribution". You will need to associate your Distribution Certificate, App ID, and each beta tester's device with the profile. Unfortunately this does mean you will need to generate a new one of these each time you want to add a new beta tester. I guess this is one of the reasons this method is free.&lt;/li&gt;
&lt;li&gt;You will now have a file with the .mobileprovision extension.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Step 3 Archive your App&lt;/h2&gt;
&lt;p&gt;In XCode, make sure you have "iOS device" selected in the toolbar at the top (the dropdown where you choose which device to run your App on, or which simulator).  Click "Product -&amp;gt; Archive". Once that succeeds, follow the instructions in step 2 thru 6 &lt;a href="http://readwrite.com/2010/12/15/apple-best-kept-secret-how-to-do-ad-hoc-installs#awesm=~onnHAUeZCe9nws"&gt;here&lt;/a&gt;. You will need to enter the URL where you intend to place the bundle for your users to download. This is because to install your application on their device, users will actually download a .plist file (created in this step), that links to the actual location of your app. As I go into detail below, I put these files on Github Releases, so the location would be something like &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;https&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/&amp;lt;username&amp;gt;/&amp;lt;repo-name&amp;gt;/releases/download/&amp;lt;release-tag-name&amp;gt;/YourApp.ipa&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You will get a .plist file and a .ipa file.&lt;/p&gt;
&lt;h2&gt;Step 4 &amp;amp; 5 Put these files somewhere your users can access them and create an HTML page that links to your plist&lt;/h2&gt;
&lt;p&gt;You can put these files anywhere you want, as long as people will be able to download them. Thanks to a suggestion from &lt;a href="https://twitter.com/mitalia"&gt;mitalia&lt;/a&gt;, I put these on our internal Github using the Releases functionality. You can also use public Github. You just create a release, and attach all three files as binary attachments and Github will store them for you.&lt;/p&gt;
&lt;p&gt;You can just post the .mobileprovision file directly on Github releases. A word of caution, I have no idea what the ramifications are of posting a provisioning profile on the public internet are, it might be advisable to make the Github repository private, or post this file elsewhere. The link that Github Releases automatically generates for files you bundle with your release will work. Just tell your users to click the link on their iOS device, and it will prompt them to install the provisioning profile on the device. Unfortunately, for installing the app itself you need a little more control over the HTML anchor element, so you need to create an HTML file that contains the properly formatted link. &lt;a href="http://jeffreysambells.com/2010/06/22/ios-wireless-app-distribution"&gt;This post&lt;/a&gt; provides a template HTML index file you can use (and a nice PHP script that makes this simpler if you are not using Github Releases), but effectively you just need to create an HTML page with a link constructed as follows that your users will click on:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt; &lt;span class="nt"&gt;&amp;lt;a&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;itms-services://?action=download-manifest&amp;amp;url=LINK_TO_YOUR_PLIST_FILE&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;Click to install&lt;span class="nt"&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Again, you can post this HTML file anywhere. I actually just upload it to Github Releases the same way I upload the other files. The users will see a link to the HTML file in the attachments portion of the Release. In a normal browser clicking the link would result in downloading the file to the machine because Github Release sets the link as "nofollow", but in the file system averse iOS, Safari will render the HTML as if the user just clicked on a normal link. They then click the link to your PLIST and will be prompted to install your app.&lt;/p&gt;
&lt;p&gt;You can then create a new release or update this one as you need users to update the app. They will only need to install the provisioning profile once.&lt;/p&gt;</summary></entry><entry><title>Creating a Basic Scala Project in an IDE</title><link href="http://jeffmax.io/creating-a-basic-scala-project-in-an-ide.html" rel="alternate"></link><updated>2013-03-23T10:20:00+01:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2013-03-23:creating-a-basic-scala-project-in-an-ide.html</id><summary type="html">&lt;p&gt;The goal of this post is to help get you running with a simple but real Scala project inside an IDE. By this, I mean a small project that has external JAR dependencies. JVM languages typically need some kind of build/dependency tool to get yourself up and running because of the JAR ecosystem. &lt;a href="http://jeffmax.io/blog/2011/04/11/create-a-war-file-without-resorting-to-opening-eclipse/"&gt;Sometimes just getting the project working with a build tool is enough&lt;/a&gt;. With Scala, I decided to use an IDE to help get acquainted with the language. I carefully chronicled all the headaches I ran into while getting up and running and this post will describe those issues and hopefully help ease the pain for others. These instructions worked on OS X.&lt;/p&gt;
&lt;p&gt;I am not an expert on Ant, Maven, Buildr, or SBT but my experience with using an IDE has taught me that you want to setup a real build tool/dependency manager even if you use an IDE. An alternative option to what I describe here is to have your IDE to create proper Maven/Ant files for you, but I suspect that is pretty complex too. If you let the IDE manage dependencies for you by using the proprietary "project" format provided by the IDE you could create problems when you commit to version control. Others will pull down your project and have some or all of the following problems:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If you didn't commit your dependent JARS, they will have to find them on their own and then add them as dependencies.&lt;/li&gt;
&lt;li&gt;If they don't use the same IDE you used they will be completely out of luck.&lt;/li&gt;
&lt;li&gt;Even if they do use the same IDE you used, it is bound to have directory references to your machine in the project property files that will not work for them.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So, we need an IDE and a build system.&lt;/p&gt;
&lt;h2&gt;IDE&lt;/h2&gt;
&lt;p&gt;I have chosen to go with IntelliJ. Read the rest of the section for why, or just skip to the next section. I have used Eclipse with Scala before, but it has always been buggy. I've really wanted to go with Eclipse for Scala because it is backed by Typesafe, but in my opinion it is still not ready.  The last version I tried was the one announced &lt;a href="http://scala-ide.org/blog/3.0-final-announcement.html"&gt;here&lt;/a&gt;. It did not work well for me, with the following problems.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Eclipse froze when I built my first Scala project. Everything was there when I restarted, but that is irritating. This happened with the latest version and the previous version on two separate computers.&lt;/li&gt;
&lt;li&gt;Import statements in the Worksheet was not working properly for me, and you still need to wrap code in an object to make it run in the Worksheet.&lt;/li&gt;
&lt;li&gt;I was getting ghost red-x compile errors on in the left margin for lines where there was no code.&lt;/li&gt;
&lt;li&gt;No support for plain Scala scripts, everything must be in an object or class.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;IntelliJ did not have any of those problems.&lt;/p&gt;
&lt;h2&gt;Build Tool&lt;/h2&gt;
&lt;p&gt;For Scala, SBT is popular. The best thing you can probably do for yourself is to read the &lt;a href="http://www.scala-sbt.org/"&gt;SBT docs&lt;/a&gt; before you start. Otherwise there will be a lot of guess work as you blindly copy code from the internet. My biggest problem with the SBT documentation is that it uses a lot of Scala class parameter syntax to describe the concepts. This can be overwhelming for someone learning SBT before they learn Scala. Still, it is worth powering through. One minor, but key point:&lt;/p&gt;
&lt;p&gt;Typing a command after typing sbt on the command line is &lt;em&gt;not&lt;/em&gt; the same as entering the SBT interactive REPL (by just typing sbt) and entering commands. This was a major source of confusion for me in the beginning. For example, to inspect a setting, you do not type &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;sbt&lt;/span&gt; &lt;span class="nx"&gt;inspect&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;setting&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You have to enter the REPL and type&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;inspect&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;setting&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Get Started&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install SBT. Instructions are &lt;a href="http://www.scala-sbt.org/release/docs/Getting-Started/Setup.html"&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Once you install SBT, do the following to save yourself some future pain.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Set you permgen space higher for the JVM (this has something to do with space reserved for a tier of memory related to garbage collection). Create a file called .sbtconfig in your home directory and put this in it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;SBT_OPTS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-XX:+CMSClassUnloadingEnabled -XX:MaxPermSize=256M -Xmx512m -Xss2m&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install the &lt;a href="https://github.com/mpeltonen/sbt-idea"&gt;sbt-idea&lt;/a&gt; SBT plugin. The instructions are on the page. This will allow SBT to create IntelliJ projects that are a reflection your SBT project configuration. That sounded confusing, but just go with it for now.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SBT needs the version of Scala it was compiled with to work, this is different from the version of  Scala it will use to compile your projects. This can lead to confusion, so it helps to keep it in mind. The gen-idea plugin works nicely, but currently for some reason it adds the SBT Scala version as a dependency for your projects. This is wrong. Your project is only dependent on the version of Scala you are using for your project. To disable this, create a file in your home directory called .sbtrc and place the following line in it:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;alias&lt;/span&gt; &lt;span class="n"&gt;gen&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;idea&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;gen&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;idea&lt;/span&gt; &lt;span class="n"&gt;no&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;sbt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;module&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install &lt;a href="http://www.jetbrains.com/idea/download/"&gt;IntelliJ&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Open IntelliJ, choose "Configure" from the Quickstart menu that pops up. Then choose plugins and search for and install the Scala and SBT plugins. I am not exactly sure you need the SBT plugin, but it doesn't hurt. I believe it enables IntelliJ to use SBT to build your project, but it does not create the required IntelliJ config based off your SBT configuration (that is what the gen-idea SBT plugin does). You can read the documentation for the SBT plugin &lt;a href="https://github.com/orfjackal/idea-sbt-plugin/wiki"&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Create your project&lt;/h2&gt;
&lt;p&gt;After all that we are now ready to create an actual project. Here is the main idea: You create a directory and  a simple file to tell SBT what version of Scala you want your project to use. You then use SBT and the gen-idea plugin to create an IntelliJ project. You can then open this project in IntelliJ and everything will work. What is the difference between doing all this vs. just creating a Scala project in IntelliJ?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IntelliJ requires that you tell it per project where your Scala home directory is. This is annoying.&lt;/li&gt;
&lt;li&gt;We use the SBT configuration to drive the IntelliJ configuration. You can just commit your SBT configuration files to version control, and others can generate the IntelliJ configuration if they wish to.&lt;/li&gt;
&lt;li&gt;The sbt-idea plugin can be run multiple times to sync up any changes you made to your SBT configuration with the IntelliJ configuration. For example, if you use SBT to add a jar dependency, you can run the plugin to add this JAR as an IntelliJ dependency (read: generate a bunch of XML files for IntelliJ).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Okay. Let's get started.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a project directory wherever you want and descend into it.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a file called build.sbt. Put the following in it where &lt;version&gt; is the Scala version you want to use. Right now, I am using 2.10.1.&lt;/p&gt;
&lt;p&gt;scalaVersion := "&lt;version&gt;"&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you do not do this, the sbt-idea plugin will create a project that uses whatever version of Scala it was compiled with (probably something like 2.9.2), which is not likely to be what you want.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Run the following command:&lt;/p&gt;
&lt;p&gt;sbt gen-idea&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Open IntelliJ and then open the project (not import, it is already an IntelliJ project).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You're done. You can create a Scala Worksheet and trying something like&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;HI&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;to see that you are in business.  &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;Adding JAR dependencies&lt;/h3&gt;
&lt;p&gt;At this point, the most likely next complication will be that you need to use a Java or Scala library that is in a JAR. You could use the IntelliJ mechanism to add an "External Jar", but since we have made a point to make the IntelliJ configuration just a reflection of your SBT configuration, the best thing to do would be to add it using SBT and then run the&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sbt&lt;/span&gt; &lt;span class="n"&gt;gen&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;idea&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;command again. There are two main ways to add an SBT dependency to your project- &lt;a href="http://www.scala-sbt.org/release/docs/Getting-Started/Library-Dependencies.html#unmanaged-dependencies"&gt;unmanaged&lt;/a&gt; and &lt;a href="http://www.scala-sbt.org/release/docs/Getting-Started/Library-Dependencies.html#managed-dependencies"&gt;managed&lt;/a&gt;. The easiest to do is unmanaged- just create a &lt;code&gt;lib&lt;/code&gt; directory in the root of your project directory and drop the JAR you need in there. If you run &lt;code&gt;sbt gen-idea&lt;/code&gt; it will tell IntelliJ about it and everything will just work. However, if this is a project to be checked into version control, managed is probably the way to go. Just follow the instructions at the link above and then run &lt;code&gt;sbt gen-idea&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;One last detail&lt;/h3&gt;
&lt;p&gt;You can tell IntelliJ to build with SBT instead of Make (or whatever its default is). I am not exactly sure what the advantages of this is (especially since you can always do your real build from SBT since the IntelliJ configuration is just a reflection of that), but I have seen situations where the Worksheet functionality did not work properly unless you did this. Follow the instructions &lt;a href="https://github.com/orfjackal/idea-sbt-plugin/wiki#run-configuration-settings"&gt;here&lt;/a&gt; to do that.&lt;/p&gt;</summary><category term="scala"></category><category term="intellij"></category><category term="overly-complex"></category></entry><entry><title>"An impenetrable guide to SBT"</title><link href="http://jeffmax.io/an-impenetrable-guide-to-sbt.html" rel="alternate"></link><updated>2012-04-25T22:30:00+02:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2012-04-25:an-impenetrable-guide-to-sbt.html</id><summary type="html">&lt;p&gt;This document is meant to serve as introductory guide to using SBT. The
SBT wiki contains a lot of information, but my opinion is that it could
have been presented in a more digestible manner, especially for those
that are new to Scala. I think one of the biggest problems with the
documentation is that it starts with the simplified Build.sbt file,
but to create a custom task, which will be necessary in many non-trival
builds, requires using the more complex Build.scala format. I think
think it might be better to present the concepts behind creating a
Build.scala file, and then explain how the Build.sbt can be used for
simplifying.  That being said, if you need to build a simple jar,
the SBT Getting Started Wiki, and the Build.sbt file will probably serve
you well.&lt;/p&gt;
&lt;h1&gt;Prepare yourself&lt;/h1&gt;
&lt;p&gt;SBT uses a lot of custom operators like := and &amp;gt;&amp;gt;=. In my opinion, some
of these operations would be much clearer if they just used function
names instead of operators, but it appears that brevity has taken
precedence. It is worthwhile reinforcing that in Scala, when you see
something like this &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;:=&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;this can be thought of as calling the function called ":=" on a, passing
b as a parameter.&lt;/p&gt;
&lt;h1&gt;Directory Structure&lt;/h1&gt;
&lt;p&gt;First things first. Your code should be in a "src/main/scala" directory
and your resources should be in a "src/main/resources". The root of the
project will be the directory that contains the "src" directory. If you
have any jars that your project is dependent on, place them in a "lib"
directory in the root directory (along side "src").&lt;/p&gt;
&lt;h1&gt;Running sbt with no configuration&lt;/h1&gt;
&lt;p&gt;If all of your project dependencies are in the lib directory, and you
don't need to anything more complex, just run the following command from
your root directory:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sbt&lt;/span&gt; &lt;span class="n"&gt;run&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This should compile and run your project, assuming you have some sort of
main function in your Scala code. If instead, you are just creating a
library, the following should create a jar for you.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sbt&lt;/span&gt; &lt;span class="n"&gt;package&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This all works by convention, and is quite nice when compared to other
build systems. The rest of this tutorial will focus on customizing sbt
to do more complex tasks.&lt;/p&gt;
&lt;h1&gt;The Build files&lt;/h1&gt;
&lt;p&gt;There are two types of ways to describe your build using SBT, one is a simplified format called Build.sbt, and the other is a Build.scala file. Build.sbt is a simplified version of Build.scala with some things already taken care of for you, but I am going to start with Build.scala because I think it will be easier to understand in the long run.&lt;/p&gt;</summary></entry><entry><title>Python modules: How does Python know where to find them?</title><link href="http://jeffmax.io/python-modules-how-does-python-know-where-to-find-them.html" rel="alternate"></link><updated>2012-01-31T03:00:11+01:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2012-01-31:python-modules-how-does-python-know-where-to-find-them.html</id><summary type="html">&lt;p&gt;I love Python, but I have always been a little frustrated by how it handles installing and locating modules. The situation is further complicated by Python Eggs, which I find to be an off-putting name for a endlessly frustrating feature. In particular, I have never really figured out where native support for eggs (just .zip files really) in Python ends and special functionality provided by setuptools begins. In this post I am going to try to figure most of this out in what I hope to be a sane order.&lt;/p&gt;
&lt;p&gt;As a note, I know a lot of this is made much simpler by just using virtualenv, but these issues still come up.&lt;/p&gt;
&lt;p&gt;First, a really great introduction to Python modules/packages in general:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://mxm-mad-science.blogspot.com/2008/02/python-eggs-simple-introduction.html"&gt;http://mxm-mad-science.blogspot.com/2008/02/python-eggs-simple-introduction.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;He deftly handles a point of confusion I always seem to run into&lt;/p&gt;
&lt;h2&gt;&lt;strong&gt;A module and a package are not the same thing.&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;If you are importing a package which would be represented by a directory (on the Python Path) containing a &lt;strong&gt;init&lt;/strong&gt;.py file, you cannot assume that&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;x&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;will work for every y that this works for&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;x&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is because when you import x, you are importing the package x, defined my its &lt;strong&gt;init&lt;/strong&gt;.py file. Unless y is explicitly imported in that file like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;.&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;It will not just work.&lt;/p&gt;
&lt;p&gt;At least I am not the only &lt;a href="http://stackoverflow.com/questions/6386061/why-import-xx-y-behaves-different-from-from-x-import-y-and-1st-one-fails-w"&gt;one&lt;/a&gt; who was confused by this.&lt;/p&gt;
&lt;h2&gt;OK, that is out of the way. Which site-packages will my Python use?&lt;/h2&gt;
&lt;p&gt;It turns out this is a defined at install time, and the defaults vary by system. In particular, look for the details of prefix and exec_prefix at this link &lt;a href="http://docs.python.org/install/index.html#how-installation-works"&gt;http://docs.python.org/install/index.html#how-installation-works&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I am still trying to figure out the details, but it also seems that the Python site module is loaded on interpreter startup and can add some system specific locations to the python path. Check this link out for details &lt;a href="http://docs.python.org/library/site.html"&gt;http://docs.python.org/library/site.html&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It's also worth pointing out that Python modules that contain c-extensions are by definition dependent on your processor architecture. On some systems/installers they will therefore be placed in an architecture specific location (probably /usr/lib64 instes of /usr/lib).&lt;/p&gt;
&lt;p&gt;Holy Moly this is confusing! I rant into a situation today where I installed module with a c-extension, and because a c-extension made the Python module architecture dependent it was installed (by yum on Centos) in the /usr/lib64/python2.7/site-packages directory rather than /usr/lib. However, Python, by default wasn't looking there.  Thanks!&lt;/p&gt;
&lt;h2&gt;OK, I found my site-packages directory, where else might it look for modules?&lt;/h2&gt;
&lt;h3&gt;.pth files&lt;/h3&gt;
&lt;p&gt;If you have a .pth file in your site-packages directory, the packages and modules (and eggs, yuck!) listed in there will be added to the path. Setup tools puts an easy-install.pth file in there usually, but you can add your own.&lt;/p&gt;
&lt;h3&gt;PYTHONPATH environment variable&lt;/h3&gt;
&lt;p&gt;You can also add locations to the path by adding them to the PYTHONPATH environment variable (just like CLASSPATH in Java).&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.stereoplex.com/blog/understanding-imports-and-pythonpath"&gt;http://www.stereoplex.com/blog/understanding-imports-and-pythonpath&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;eggs&lt;/h3&gt;
&lt;p&gt;This is where I am not even all that sure. I think that natively (without setuptools) Python can support looking in Eggs (which are just zip files) for code. So if you put in egg in site-packages or another directory on the path, or list the egg itself on the path it will work.&lt;/p&gt;
&lt;p&gt;From the source,&lt;a href="http://peak.telecommunity.com/DevCenter/PythonEggs#Using-eggs"&gt; http://peak.telecommunity.com/DevCenter/PythonEggs#Using-eggs&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you have a pure-Python .egg file that doesn't use any in-package data files, and you don't mind manually placing it on sys.path or PYTHONPATH, you can use the egg without installing setuptools. For eggs containing C extensions, however, or those that need access to non-Python data files contained in the egg, you'll need the pkg_resources module from setuptools installed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So I guess that answers that. I am sure you have run into situations where pkg_resources was missing. It's likely that was caused my a project needing some of the more specialty features of an egg. I've heard, for example , that you some applications will be installable via their setup.py file without setuptools installed; they just won't run without it.&lt;/p&gt;
&lt;h5&gt;Wherein I ramble on about how "import" might work with eggs without taking the time actually find out the answer&lt;/h5&gt;
&lt;p&gt;The same site points that you can import an egg (and I assume they mean an egg with with data files or c extensions) with this&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pkg_resources&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;require&lt;/span&gt;
&lt;span class="n"&gt;require&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;FooBar&amp;gt;=1.2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;However this&lt;a href="http://www.ibm.com/developerworks/linux/library/l-cppeak3/index.html"&gt; site &lt;/a&gt;says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You may use an egg simply by pointing PYTHONPATH or sys.path at it and importing as you normally would, thanks to the import hook changes in recent versions of Python (you need 2.3.5+ or 2.4). If you wish to take this approach, you do not need to bother with setuptool sor ez_setup.py at all.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So I am a bit confused as to exactly what happened in 2.3.5 that enables full support for eggs within Python natively. If they are just hooks, do you need to install a library to take advantage of those hooks? Confusing. I will try to figure this out.&lt;/p&gt;
&lt;h5&gt;.egg-info directories&lt;/h5&gt;
&lt;p&gt;Ha, I have no idea what this is. Someone &lt;a href="http://stackoverflow.com/questions/256417/python-packages-and-egg-info-directories"&gt;here&lt;/a&gt; does though. It's still overly complicated though.&lt;/p&gt;
&lt;h3&gt;Oh, wait! Can we add just one more edge-case here for good measure? (the Python egg cache)&lt;/h3&gt;
&lt;p&gt;Some eggs that are zipped (but not all mind you), for reasons that I have never fully understood (there is an &lt;a href="http://stackoverflow.com/questions/2192323/what-is-the-python-egg-cache-python-egg-cache/2193746#2193746"&gt;explanation in the note of this stackoverflow answer&lt;/a&gt;), must actually be unzipped and placed somewhere at runtime. By default this is done in /$HOME/.python-eggs. You can override this with the PYTHON_EGG_CACHE environment variable. This is the source of endless problems during deployment when you think everything is working, but then you deploy, and your webserver doesn't have permission to access wherever the egg cache is located.&lt;/p&gt;
&lt;h2&gt;distutils, setuptools, ez_setup.py, easy_install.py,  distribute, and distutils2&lt;/h2&gt;
&lt;p&gt;This is slightly off-topic, but relevant in that it relates to how you might install python modules.  The original python module for packaging was called distutils. It is very limited, and PEAK came out with setuptools to enhance its functionality. This introduced the whole egg thing.  It included a boostrap utility called ez_setup.py that will install setuptools and and utility called easy_install.py. easy_install.py could then be used from the command line to install python modules from PyPi (the cheeseshop).&lt;/p&gt;
&lt;p&gt;Setuptools is nice, but the &lt;a href="http://peak.telecommunity.com/DevCenter/setuptools"&gt;documentation on the PEAK &lt;/a&gt;website is infamously terrible, and the project has stagnated. &lt;a href="http://packages.python.org/distribute/"&gt;Distribute&lt;/a&gt; is a fork of setuptools that add some functionality. To use it Distribute within a project, there is a file called distribute_setup.py that you can package with you code and &lt;a href="http://packages.python.org/distribute/using.html"&gt;call from your setup.py &lt;/a&gt;that will install it.&lt;/p&gt;
&lt;p&gt;Then comes distutils2. I did some reading on the web, and the discussion seems to suggest that distutils2 is a re-write of distutils, but &lt;a href="http://stackoverflow.com/a/6522905/134930"&gt;done by team that was working on Distribute&lt;/a&gt;. Allegedly resources moved from working on Distribute to distutils2, and distutils2 is &lt;a href="http://guide.python-distribute.org/introduction.html#current-state-of-packaging"&gt;the future&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Interestingly enough, as of the time I wrote this, there seem to be two different repos for distutils2- on &lt;a href="https://bitbucket.org/tarek/distutils2/overview"&gt;bitbucket&lt;/a&gt; and &lt;a href="http://hg.python.org/distutils2"&gt;python.org&lt;/a&gt;. The latest commit on either of those repos was 2 &lt;a href="http://hg.python.org/distutils2/rev/42342803970e"&gt;months ago&lt;/a&gt;. Distribute, on the other hand, the supposedly less active project, has one repo on &lt;a href="https://bitbucket.org/tarek/distribute/overview"&gt;bitbucket&lt;/a&gt; and the &lt;a href="https://bitbucket.org/tarek/distribute/changeset/67bbcd0bfdef"&gt;last commit was 11 days ago&lt;/a&gt;. So, in short, I have no idea what is going on.&lt;/p&gt;</summary><category term="python"></category><category term="import"></category></entry><entry><title>Yet Another Vim Post</title><link href="http://jeffmax.io/yet-another-vim-post.html" rel="alternate"></link><updated>2012-01-19T01:55:52+01:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2012-01-19:yet-another-vim-post.html</id><summary type="html">&lt;h1&gt;A few of my favorite things (in an editor)&lt;/h1&gt;
&lt;p&gt;I have a couple things I really look for in a text editor.&lt;/p&gt;
&lt;p&gt;1) I need vertical selection, and I need it to not be really awkward to do.&lt;/p&gt;
&lt;p&gt;2) I need to be able to open up a folder as a project. I can't stand when an xml or .property file is required to define a project. The files are in a folder. That's it&lt;/p&gt;
&lt;h1&gt;Making Vim nicer/easier&lt;/h1&gt;
&lt;p&gt;Textmate does both of these, but obviously only works on Mac, and Vim can be made to do both of these things. I have gone back and forth between using Vim and Textmate over the past few years, but I have been using Vim for a while now.  A couple of things have contributed to that:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/b4winckler/macvim"&gt;MacVim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/carlhuda/janus"&gt;Janus, a well-maintained Vim configuration&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Some people recommend not using anything like Janus when first getting started with Vim. That may be good advice to some, but I think in general, anything that cuts down on everyone having to go through the same painful (and not strictly necessary) configuration learning curve is probably useful. If you use Janus and really like it, you will probably go back and fill in some of the basics you missed. One of the things I really like with Janus is they have it configured so that out of the box if you type&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;vim&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;at the command prompt, it will launch vim with Nerdtree (a file folder plugin) showing the current folder. I've never really looked to see if this is complex or easy to do, but with Janus, I don't have to!&lt;/p&gt;
&lt;p&gt;A slight note: while the above is still useful at times, I have recently been using the &lt;a href="https://github.com/kien/ctrlp.vim"&gt;ctrlp&lt;/a&gt; (or &lt;a href="https://github.com/wincent/Command-T"&gt;Command-T&lt;/a&gt; works too) plugin to quickly search and open the file I want instead of navigating around in the Nerdtree file navigator.&lt;/p&gt;
&lt;p&gt;Even if you use Janus, you still need to learn how to use Vim as an editor (as opposed to setting up its configuration files) and you will no doubt want to make configuration tweaks.  The rest of this post is dedicated to some of my favorite links that explain both Vim configuration and  how to actually use it as an editor.&lt;/p&gt;
&lt;h1&gt;Vim Basics&lt;/h1&gt;
&lt;p&gt;This is a good introduction to customizing Vim:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://nvie.com/posts/how-i-boosted-my-vim/"&gt;http://nvie.com/posts/how-i-boosted-my-vim/&lt;/a&gt;  (most of my non-Janus vimrc comes from this one)&lt;/p&gt;
&lt;p&gt;This is also a introduction to Vim in general:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://wiki.memodrive.com/_media/docs/tools/vim_tips1.pdf"&gt;http://wiki.memodrive.com/_media/docs/tools/&lt;strong&gt;vim&lt;/strong&gt;_tips1.pdf&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Key Concepts&lt;/h1&gt;
&lt;p&gt;You can use Vim for a while without understanding the concepts introduced in this next post, but this is the only one I have ever seen that does a good job of explaining Vim text objects (as compared to motions). He really breaks down the usage of "&amp;lt;#&amp;gt;&lt;Command&gt;&lt;Motion or Text Object&gt;" in Vim normal mode.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.carbonfive.com/2011/10/17/vim-text-objects-the-definitive-guide/"&gt;http://blog.carbonfive.com/2011/10/17/vim-text-objects-the-definitive-guide/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Once you understand text objects vs motions, this tutorial is a good review.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://mislav.uniqpath.com/2011/12/vim-revisited/"&gt;http://mislav.uniqpath.com/2011/12/vim-revisited/ &lt;/a&gt; (although he hates Janus)&lt;/p&gt;
&lt;h1&gt;Other enhancements&lt;/h1&gt;
&lt;p&gt;This is a really great plugin, even if you are not using Janus (which just added it).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/Lokaltog/vim-easymotion"&gt;EasyMotion&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Basically it makes it easy to jump to the exact desired spot on the screen without counting lines and words (who can count anymore anyway?).&lt;/p&gt;
&lt;p&gt;There are a bunch of settings that I prefer (you can see them&lt;a href="https://github.com/jeffmax/Vim/blob/master/.vimrc"&gt; here,&lt;/a&gt; but I am sure there are better .vimrc files out &lt;a href="https://bitbucket.org/sjl/dotfiles/src/b5e60ade957d/vim/.vimrc"&gt;there&lt;/a&gt;), but there is one that I could not do without:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;set&lt;/span&gt; &lt;span class="n"&gt;virtualedit&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="n"&gt;block&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This enables you to navigate beyond the end of the line and onto blank lines when in visual block mode. Without this I find it very difficult to use Vim at all, especially when trying to do some of the things I could do in Textmate with vertical selections.&lt;/p&gt;
&lt;h1&gt;Some other great blog posts about Vim&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://stevelosh.com/blog/2010/09/coming-home-to-vim/"&gt;http://stevelosh.com/blog/2010/09/coming-home-to-vim/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://stackoverflow.com/questions/1497958/how-to-use-vim-registers/1498026#1498026"&gt;http://stackoverflow.com/questions/1497958/how-to-use-vim-registers/1498026#1498026&lt;/a&gt;  The second most popular answer is really useful and I have never seen it discussed elsewhere.&lt;/p&gt;</summary><category term="vim"></category></entry><entry><title>tty, session leader, terminal, controlling terminal, stdout and stdin, foreground and background</title><link href="http://jeffmax.io/tty-session-leader-terminal-controlling-terminal-stdout-and-stdin-foreground-and-background.html" rel="alternate"></link><updated>2011-09-04T23:11:09+02:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2011-09-04:tty-session-leader-terminal-controlling-terminal-stdout-and-stdin-foreground-and-background.html</id><summary type="html">&lt;p&gt;I have always found the details of the relationships between terminals, standard out/in, and pseudo terminals on Unix variants a bit confusing. This post is my attempt to get some things straight. It may be desultory, over simplified, and at times, blatantly incorrect. Please let me know if I have butchered anything.  I  will post links as I go along and at the end that may be more enlightening. Please note, I am on OS X, a bsd variant.&lt;/p&gt;
&lt;h2&gt;Terminal Emulator and pseudo terminals&lt;/h2&gt;
&lt;p&gt;First, assuming you are running something like Mac OS X Terminal.app, you are running a terminal emulator. This much is pretty straight-forward. This is an application that emulates in software what used to be a hardware VT-something terminal. You are also running a shell application, possibly bash.  Since, in a current day system, both the shell and the Terminal.app are processes running on the machine, rather than the shell outputing to a hardware device, there needs to be some way for the shell to communicate with the Terminal emulator. This is where the Kernel steps in to help out in the form of pseudo-terminals.&lt;/p&gt;
&lt;p&gt;If, at your terminal, you type:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;tty&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The sytstem will respond with something like&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/dev/ttys001&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is the slave end of your current pseudo-terminal. The slave end is attached to your shell. You also have an associated master side of your pseudo-terminal located at something like:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/dev/ptys1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is attached to the terminal emulator (Terminal.app)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;From the BSD man pages:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"The slave device provides to a process an interface identical to that described in tty(4). However,
whereas all other devices which provide the interface described in tty(4) have a hardware
device of some sort behind them, the slave device has, instead, another process manipulating it
through the master half of the pseudo terminal. That is, anything written on the master device is given to
the slave device as input and anything written on the slave device is presented as input on the master device."&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;From Wikipedia:&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;"Important applications of pseudo terminals include xterm and similar terminal emulators in the X Window System and other window systems like Terminal application in Mac OS X, in which the terminal emulator process is associated with the master device and the shell is associated with the slave. Any terminal operations performed by the shell in a terminal emulator session are received and handled by the terminal emulator process itself (such as terminal resizing or terminal resets). The terminal emulator process receives input from the keyboard and mouse using windowing events, and is thus able to transmit these characters to the shell, giving the shell the appearance of the terminal emulator being an underlying hardware object."&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I believe that /dev/tty is a shortcut to the current slave device (the one returned by the tty command). Officially, it is " a synonym for the controlling terminal of a process, &lt;strong&gt;if any&lt;/strong&gt;" (see &lt;a href="http://stackoverflow.com/questions/4667154/what-is-the-difference-between-writing-to-stdout-and-a-filehandle-opened-to-dev"&gt;http://stackoverflow.com/questions/4667154/what-is-the-difference-between-writing-to-stdout-and-a-filehandle-opened-to-dev&lt;/a&gt;).  In fact, if you do the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;echo "HI" &amp;gt; /dev/tty&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;you should see "HI" printed to your terminal. This makes sense because the slave device is connected to the master device, which Terminal.app is attached to.  Your bash shell will associate its stdout (file descriptor 1) with the device at /dev/tty. "Any process it spawns without redirecting stdout will also have this association" (from  &lt;a href="http://stackoverflow.com/questions/4667154/what-is-the-difference-between-writing-to-stdout-and-a-filehandle-opened-to-dev"&gt;http://stackoverflow.com/questions/4667154/what-is-the-difference-between-writing-to-stdout-and-a-filehandle-opened-to-dev&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Additionally, on OS X, /dev/fd/ will contain your file descriptors for the current process, and there are also shortcuts at /dev/stdin, /dev/stdout, and /dev/stderr.&lt;/p&gt;
&lt;h2&gt;Session&lt;/h2&gt;
&lt;p&gt;The session in the container for all the processes that will be associated with a controlling terminal (tty). Each session has one controlling terminal, and vice versa.&lt;/p&gt;
&lt;h2&gt;Session Leader&lt;/h2&gt;
&lt;p&gt;Your shell (or the login process that created the shell) in the above situation would be considered the session leader, because it was the initial process of the session and is interacting with the controlling terminal.&lt;/p&gt;
&lt;p&gt;From &lt;a href="http://www.gnu.org/s/hello/manual/libc/Concepts-of-Job-Control.html"&gt;http://www.gnu.org/s/hello/manual/libc/Concepts-of-Job-Control.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;"Usually, new sessions are created by the system login program, and the session leader is the process running the user's login shell."&lt;/p&gt;
&lt;h2&gt;Process Groups/Jobs&lt;/h2&gt;
&lt;p&gt;When you execute something from the shell, this is called a command. The command may actually launch more than one process, for example, if you use the pipe (|) to string together a few unix commands. These processes will all belong to the same process group (also called a Job). Process groups are actually what receive signals, not individual processes.  All process groups launched from the session leader are in the same session. When the process gets created, it will actually be in the same process group as its parent as well, but  as part of standard operating procedure, the shell will immediately set the process to its own unique process group.  Processes all inherit the same controlling terminal, stdin and stdout of the session leader (and are called child processes). These process groups are job controlled by the shell (the shell can start, stop, and suspend, background and foreground them).&lt;/p&gt;
&lt;p&gt;See&lt;a href="http://www.gnu.org/s/hello/manual/libc/Concepts-of-Job-Control.html"&gt; http://www.gnu.org/s/hello/manual/libc/Concepts-of-Job-Control.html&lt;/a&gt; for a more indepth explanation of the Session-&amp;gt;Process Group-&amp;gt;Process relationship.&lt;/p&gt;
&lt;p&gt;The shell (session leader) is in charge of job control. It must decide which of the process groups it has started will have access to the controlling terminal. This is accomplished by setting the "foreground process-group of the controlling terminal". The reason this distinction must be made is that it needs to be clear which process group should be receiving input from the keyboard and  to a lesser extent, which should be allowed to print to the terminal ( I say to a lesser extent because I think on most systems, by default, more than one process group can try to write to the controlling terminal, and it will interleave the output).&lt;/p&gt;
&lt;p&gt;As an example, if you run&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ps -la&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;you will see all the processes running (that are associated with a controlling terminal, I believe GUI processes on systems like OS X don't really play by these rules, so you won't see them). If you look in the STAT column you will see some letters. Capital S means the process is sleeping, R means it is running. The second character signifies additional state. s means the process is the session leader, and a + means the process is currently in the foreground process group of its controlling terminal.  If you are only running one Terminal, you should see that there is a login process that is the session leader, that the bash process is sleeping, and that the ps process is running and in the foreground process group(R+).  You can see in the TTY column what the controlling terminal is for each process, and in this case they will all be the same. This is the same device that would be returned by the "tty" command.&lt;/p&gt;
&lt;p&gt;Just for fun, if you open another terminal, and type ps -la, and look at the bash process on the controlling terminal of your previous terminal, you will see that is now has a + sign associated with it, since the ps process has ended, and the shell itself is now in the foreground process of the controlling terminal again.&lt;/p&gt;
&lt;p&gt;So, as you are probably aware, running a process with an &amp;amp; after it from the shell will put that process in the background, and return control of the terminal to the shell.  The process can probably still write to the terminal, which might cause output to be annoyingly interleaved with what you are trying to do on the shell, but if it tries to read from its stdin, which is the controlling terminal, it  will receive a SIGTTIN signal and will be stopped.&lt;/p&gt;
&lt;p&gt;See these links:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.gnu.org/s/hello/manual/libc/Concepts-of-Job-Control.html"&gt;http://www.gnu.org/s/hello/manual/libc/Concepts-of-Job-Control.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.gnu.org/s/hello/manual/libc/Access-to-the-Terminal.html#Access-to-the-Terminal"&gt;http://www.gnu.org/s/hello/manual/libc/Access-to-the-Terminal.html#Access-to-the-Terminal&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://pubs.opengroup.org/onlinepubs/009604499/basedefs/xbd_chap11.html"&gt;http://pubs.opengroup.org/onlinepubs/009604499/basedefs/xbd_chap11.html&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Creating daemons&lt;/h2&gt;
&lt;p&gt;With this information in hand, we can understand what it takes to create a process that will not die once we log off our shell. First, we need to redirect its standard in, standard out, and standard error to a place that will exist once we log off, because the controlling terminal will be gone. Often this is either a log file or /dev/null.&lt;/p&gt;
&lt;p&gt;When we log out, the controlling terminal will be destroyed, and the shell will receive the SIGHUP signal, which it then sends to all its child processes (type "jobs" at the command line to see who would receive SIGHUP if your terminal closed, these are called processes that are "under job control" of the session leader). To prevent our daemon process from receiving this signal, you can either initially execute it wrapped in the "nohup" command, or if you decide you need to do it after the fact, you can use the "disown" command.&lt;/p&gt;
&lt;h2&gt;Additional Links&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://en.wikipedia.org/wiki/Zombie_process"&gt;http://en.wikipedia.org/wiki/Zombie_process&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://blog.nelhage.com/tag/termios/"&gt;http://blog.nelhage.com/tag/termios/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://rachid.koucha.free.fr/tech_corner/pty_pdip.html"&gt;http://rachid.koucha.free.fr/tech_corner/pty_pdip.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.linusakesson.net/programming/tty/index.php"&gt;http://www.linusakesson.net/programming/tty/index.php&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/nelhage/reptyr"&gt;https://github.com/nelhage/reptyr&lt;/a&gt;&lt;/p&gt;</summary><category term="bash"></category><category term="tty"></category></entry><entry><title>Progressively Improving a SQL Query</title><link href="http://jeffmax.io/progressively-improving-a-sql-query.html" rel="alternate"></link><updated>2011-05-20T00:00:00+02:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2011-05-20:progressively-improving-a-sql-query.html</id><summary type="html">&lt;p&gt;A note on this post: I will be discussing the details to the solution of a problem that was solved by a co-worker of mine. See his blog, &lt;a href="http://devel.io//"&gt;The Devel&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;SQL has always been a bit of a mystery to me. To date, my most complicated queries have been fairly simple table joins. Recently I stumbled upon a problem that I would have traditionally solved by doing two or three separate dynamically generated queries executed from a programming language like Python. My mercifully patient co-workers explained the problem could be solved with one query that uses a few more advanced SQL concepts, including:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;a subquery&lt;/li&gt;
&lt;li&gt;GROUP BY&lt;/li&gt;
&lt;li&gt;HAVING&lt;/li&gt;
&lt;li&gt;ORDER BY&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I can see versions of this problem (described below) coming up in other domains. I am going to walk through the solution in this post, from the most naive implementation up through a single query that solves the entire problem. Hopefully it will be a relatable guide to using some of SQL's interesting features. I am also posting a sample &lt;a href="http://www.sqlite.org/"&gt;SQLite&lt;/a&gt; database that you can download and play with while working through the post. If you are not familiar with SQLite, it is a simple, server-less SQL database. It is very widely used and often embedded within other products (it might be running in your web browser). It is perfect for learning SQL because there is virtually no setup and it is almost impossible to break anything.&lt;/p&gt;
&lt;p&gt;To get started, download the &lt;a href="http://www.sqlite.org/download.html"&gt;SQLite executable &lt;/a&gt; and the &lt;a href="https://github.com/jeffmax/blog/blob/master/movies.db?raw=true"&gt;movies.db&lt;/a&gt; file.
Once SQLite is installed, if you open a console and navigate to the location of your downloaded movies.db file and type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite3&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;db&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;you will be at a SQL prompt ready to go.&lt;/p&gt;
&lt;h1&gt;Slightly Contrived Problem&lt;/h1&gt;
&lt;p&gt;You are in charge of assigning movies to movie reviewers. You have a list of movies, and a list of reviews tagged with the reviewer. When a reviewer asks for an assignment, you must assign him or her a movie that:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;They have not yet reviewed.&lt;/li&gt;
&lt;li&gt;Has only been reviewed by at most N other reviewers.&lt;/li&gt;
&lt;li&gt;Of the movies that fit criteria 1 and 2, each movie is just as likely to be assigned.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In summary, if we take N to be 1, you just want every movie to be reviewed by 1 reviewer, and you want every movie to have an equal chance of being reviewed.&lt;/p&gt;
&lt;p&gt;For the purpose of this post, your data is stored in a database with the following two tables:&lt;/p&gt;
&lt;h3&gt;Movies Table&lt;/h3&gt;
&lt;table class="table table-bordered"&gt;
&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;&lt;td&gt;name&lt;/td&gt;&lt;td&gt;length&lt;/td&gt;&lt;td&gt;year&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;The Shawshank Redemption&lt;/td&gt;&lt;td&gt;2.5&lt;/td&gt;&lt;td&gt;1994&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;The Dark Knight&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;2008&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;Fight Club&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;1999&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;Goodfellas&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;1990&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;Casablanca&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;1942&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;h3&gt;Reviews Table&lt;/h3&gt;
&lt;table class="table table-bordered"&gt;
&lt;tr&gt;&lt;td&gt;id&lt;/td&gt;&lt;td&gt;reviewer&lt;/td&gt;&lt;td&gt;rating&lt;/td&gt;&lt;td&gt;movie&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;Grumpy&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;Happy&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;Sleepy&lt;/td&gt;&lt;td&gt;?&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;Martin&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;h2&gt;How I would solve this with brute-force, mediocre SQL&lt;/h2&gt;
&lt;p&gt;Sleepy wants his next assignment.
The simplest solution to the problem is to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Do a select on the reviews table for all reviews by Sleepy.&lt;/li&gt;
&lt;li&gt;Do a select on the movies table, selecting all movies whose ids are not in the list created in step 1.&lt;/li&gt;
&lt;li&gt;Iterate through the list of movies from step 2, querying the review table for reviews for that movie. Then choose (at random) a movie whose number of reviews is &amp;lt; N.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Lets work through this at the SQLite prompt:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviewer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Sleepy&lt;/span&gt;&lt;span class="o"&gt;|?|&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then generate a SQL query on the movies table to grab all the movies Sleepy has not yet reviewed.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Shawshank&lt;/span&gt; &lt;span class="n"&gt;Redemption&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1994&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Dark&lt;/span&gt; &lt;span class="n"&gt;Knight&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2008&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1990&lt;/span&gt;
&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Casablanca&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1942&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finally, iterate through each movie returned in the previous query, constructing a query to count the number of reviews for that movie.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Shawshank had no reviews, The Dark Knight had 1 review, Goodfellas had 2 reviews, and Casablanca had no reviews. If N was equal to 1, randomly choose between Shawshank and Casablanca, assigning one of them to Sleepy. All done!&lt;/p&gt;
&lt;h2&gt;How can this be done better?&lt;/h2&gt;
&lt;p&gt;The first step in improving this process is to introduce a subquery.
We can essentially do our first two queries above in one call to the database like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviewer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Shawshank&lt;/span&gt; &lt;span class="n"&gt;Redemption&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Dark&lt;/span&gt; &lt;span class="n"&gt;Knight&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Goodfellas&lt;/span&gt;
&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Casablanca&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We now know the names of the movies that Sleepy has not reviewed. We could now just do step 3 above, iterating through each movie to find out how many reviews we have for each one.&lt;/p&gt;
&lt;h2&gt;Brief Aside&lt;/h2&gt;
&lt;p&gt;One thing I found confusing when going from trivial SQL queries to more complex problems was that by doing a SELECT from more than one table using a WHERE clause, you are doing an implicit inner join. There are quite a few different types of joins that you can actually perform. I have found the following two links helpful:
&lt;a href="http://www.codinghorror.com/blog/2007/10/a-visual-explanation-of-sql-joins.html"&gt;Jeff Atwood explains SQL joins using Venn Diagrams&lt;/a&gt;
and
&lt;a href="http://en.wikipedia.org/wiki/Join_(SQL)"&gt;Wikipedia takes a crack at SQL join types&lt;/a&gt;
So for example, if we wanted to do an inner join on our two tables, one way would be with the following query:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1990&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Grumpy&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Dark&lt;/span&gt; &lt;span class="n"&gt;Knight&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2008&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Happy&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Fight&lt;/span&gt; &lt;span class="n"&gt;Club&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1999&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Sleepy&lt;/span&gt;&lt;span class="o"&gt;|?|&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1990&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Martin&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here we get a row for each movie review. If there is no review, the movie is not showing up at all. This is because it did an implicit inner join. Other types of joins would produce different results.
The same query using the more explicit syntax:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="k"&gt;INNER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;movies&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1990&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Grumpy&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;
&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Dark&lt;/span&gt; &lt;span class="n"&gt;Knight&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2008&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Happy&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Fight&lt;/span&gt; &lt;span class="n"&gt;Club&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1999&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Sleepy&lt;/span&gt;&lt;span class="o"&gt;|?|&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;
&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;hours&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1990&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Martin&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;For clarity's sake, I will use the more explicit syntax from here on out.&lt;/p&gt;
&lt;h2&gt;But we can do better&lt;/h2&gt;
&lt;p&gt;Let's join these two tables.&lt;/p&gt;
&lt;p&gt;So if we join these two tables on the movie id, and select only the fields we actually care about, we could write the following query:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="k"&gt;INNER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;movies&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Grumpy&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Dark&lt;/span&gt; &lt;span class="n"&gt;Knight&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Happy&lt;/span&gt;
&lt;span class="n"&gt;Fight&lt;/span&gt; &lt;span class="n"&gt;Club&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Sleepy&lt;/span&gt;
&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Martin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The above query might also be written like this&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;INNER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Just look this over for a second and it should become clear that the M and R following the table names are aliases. Everywhere else in the query that alias is used to refer to its associated table name. You will probably see this used in the SQL wild.&lt;/p&gt;
&lt;p&gt;So we have joined our two tables and grabbed only the information we really cared about. If we add back our subquery, we get this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;INNER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Grumpy&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Dark&lt;/span&gt; &lt;span class="n"&gt;Knight&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Happy&lt;/span&gt;
&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Martin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We now have one row for each movie not reviewed by Sleepy. We could almost solve this problem now without hitting the database again except for the fact that we don't have any information about movies that have no reviews. From here we could do a SELECT * on the movies table, and we would have enough information to programatically figure out what movie to assign Sleepy.&lt;/p&gt;
&lt;h2&gt;But we don't have to hit the database twice&lt;/h2&gt;
&lt;p&gt;We can fix this by changing our join type. If you refer to the links above on join types, you will see there is a "left outer join". This will do a join on the tables on the value specified, but even if there is no matching table on the right side of the join, we will still get a row of data from the left table. Lets try it&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;INNER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;LEFT&lt;/span&gt; &lt;span class="k"&gt;OUTER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Shawshank&lt;/span&gt; &lt;span class="n"&gt;Redemption&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Dark&lt;/span&gt; &lt;span class="n"&gt;Knight&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Happy&lt;/span&gt;
&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Grumpy&lt;/span&gt;
&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="n"&gt;Martin&lt;/span&gt;
&lt;span class="n"&gt;Casablanca&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The results are exactly the same as above except that we have a row for Shawshank and Casablanca with no corresponding reviewer. We now have enough information to programatically find a movie for Sleepy to review.&lt;/p&gt;
&lt;p&gt;Can we make the database do that too?&lt;/p&gt;
&lt;h2&gt;Yes&lt;/h2&gt;
&lt;p&gt;We can use COUNT, GROUP BY, HAVING, ORDER BY, and a database dependent RANDOM() function to have the database return just the name of a movie Sleepy should review.&lt;/p&gt;
&lt;p&gt;Lets throw COUNT and GROUP BY in there.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;INNER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;LEFT&lt;/span&gt; &lt;span class="k"&gt;OUTER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;GROUP&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Casablanca&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;Goodfellas&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Dark&lt;/span&gt; &lt;span class="n"&gt;Knight&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Shawshank&lt;/span&gt; &lt;span class="n"&gt;Redemption&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;GROUP BY works by rolling up all identical values of fields after your SELECT statement, aside from variables inside aggregate functions (which COUNT is), into a single row. So instead of getting one row per movie review as before, we are getting one row per unique movie, and the corresponding reviewer variable has been converted into a count of the number of reviewers associated with each row that was grouped.&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="/images/group-by.png" /&gt;&lt;/p&gt;
&lt;p&gt;GROUP BY can be confusing, in particular because depending on which fields you put after your SELECT statement and your GROUP BY clause, the results might not make any sense. The general rule is that any field coming after your SELECT statement that is not in an aggregate function (a function that takes many values and outputs one, like COUNT and SUM) must be in your GROUP BY clause as well, otherwise it either will not work, or the meaning of the query is not well defined. GROUP BY really could be its own post (and I am sure it is elsewhere).&lt;/p&gt;
&lt;p&gt;But we still don't have the database answering this question for us. Lets move that COUNT variable into a HAVING clause.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;LEFT&lt;/span&gt; &lt;span class="k"&gt;OUTER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;GROUP&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;HAVING&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Casablanca&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Shawshank&lt;/span&gt; &lt;span class="n"&gt;Redemption&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here, moving the COUNT function into the HAVING portion of our query, we are able to look at our groups before passing it up to the rest of the query. We are saying: "only create this group, if the corresponding reviewer count is less than one". As you can see, we now just have a list of movie names that no one, including Sleepy, has reviewed. It appears that in some databases you cannot refer to a field in your HAVING clause if it was not listed after your SELECT statement, so you might have to do the following (which gives me the chance to introduce the aliasing of fields in your SELECT statement using AS)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt; &lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="k"&gt;C&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;LEFT&lt;/span&gt; &lt;span class="k"&gt;OUTER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;GROUP&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;HAVING&lt;/span&gt; &lt;span class="k"&gt;C&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here we put the COUNT function back into the select statement, alias it as C, and then refer to that in our HAVING clause. The alias here is optional, I just did it because it can be done, you can alias any field after your SELECT statement, not just functions.
It is also important to note that the HAVING portion works on things other than functions. Depending on what you are trying to accomplish it may become confusing as to whether something belongs in a HAVING clause or a WHERE clause. It comes down to where you want to perform the check (either as each row is examined, or as each group is created). I found the following link helpful:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.databasejournal.com/features/mysql/article.php/3469351/The-HAVING-and-GROUP-BY-SQL-clauses.htm"&gt;http://www.databasejournal.com/features/mysql/article.php/3469351/The-HAVING-and-GROUP-BY-SQL-clauses.htm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For this problem though, we definitely need the check to be in the HAVING clause, because the value of the COUNT aggregate function will not yet be defined in the WHERE clause. At the point in time the WHERE clause is being executed the database is still determining which rows are actually in our results and correspondingly, which rows the GROUP BY will be performed on. The HAVING clause allows us to perform checks on the grouped rows.&lt;/p&gt;
&lt;h2&gt;Make the database choose one row at random&lt;/h2&gt;
&lt;p&gt;So we have a query returning a list of movies that Sleepy can review. But he is not a workaholic- he only wants one job, not two. Additionally, he needs to have an equal chance of being assigned either film.
We solve the too many jobs problem by sticking a LIMIT on the end of the query:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="k"&gt;C&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;LEFT&lt;/span&gt; &lt;span class="k"&gt;OUTER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;GROUP&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;HAVING&lt;/span&gt; &lt;span class="k"&gt;C&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;Casablanca&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This tells the database to only return 1 row from the result set. Unfortunately, every time we run this it will return the same row. We need to get it to randomly pick one of them for us. We can do this by using ORDER BY and then a database specific function. ORDER BY tells the database to return the results ordered by one of the fields. For example, we could ask it to ORDER BY movie.name, and it would always return them in alphabetical order. By using a special function (called RANDOM in SQLite and Postgres), we can have the database assign a random value to each row and then order by that value. So to bring it all together:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sqlite&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="k"&gt;C&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt; &lt;span class="k"&gt;LEFT&lt;/span&gt; &lt;span class="k"&gt;OUTER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;movie&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="k"&gt;NOT&lt;/span&gt; &lt;span class="k"&gt;IN&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="n"&gt;movie&lt;/span&gt; &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt; &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;reviews&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reviewer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;Sleepy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;GROUP&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;HAVING&lt;/span&gt; &lt;span class="k"&gt;C&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="k"&gt;ORDER&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;RANDOM&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;The&lt;/span&gt; &lt;span class="n"&gt;Shawshank&lt;/span&gt; &lt;span class="n"&gt;Redemption&lt;/span&gt;&lt;span class="o"&gt;|&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If you run this multiple times the result will change. That's it! See this link for database specific random functions:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.petefreitag.com/item/466.cfm"&gt;http://www.petefreitag.com/item/466.cfm&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Any corrections or alternative solutions?&lt;/p&gt;</summary></entry><entry><title>Create a WAR file without resorting to using Eclipse</title><link href="http://jeffmax.io/create-a-war-file-without-resorting-to-using-eclipse.html" rel="alternate"></link><updated>2011-04-11T05:23:56+02:00</updated><author><name>jeffmax</name></author><id>tag:jeffmax.io,2011-04-11:create-a-war-file-without-resorting-to-using-eclipse.html</id><summary type="html">&lt;p&gt;Recently I wanted to make a simple Java servlet without dealing with Eclipse (or any IDE). I have traditionally always used Eclipse to start a new Java project, and then committed whatever mess of xml and .project files the thing dumped onto my computer. This is not fun later.
I decided to use &lt;a href="http://buildr.apache.org/"&gt;Apache Buildr&lt;/a&gt;, a Java build framework which appears to be Rake mixed together with Maven.  The documentation looks promising, but it is not yet popular enough that google won't try to correct your spelling when you try searching about it.  It uses Ruby's syntax, so the build file is not XML like Ant or Maven, but it is compatible with Maven2 respositories. This means there is the chance of finding all your dependencies automatically. Not a good chance though.&lt;/p&gt;
&lt;p&gt;My project had the following requirements:&lt;/p&gt;
&lt;p&gt;1) Build against a jar from a maven repo.
2) Build against some local jars.
3) Remove at least one of the jars from the final war. This had to do with not delivering the servlet-api jar that conflicts with the one tomcat provides.
4) Include an xml file in a specific, non-standard location in the final war.&lt;/p&gt;
&lt;p&gt;First the build directory structure:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;buildfile &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; this is the buildr build file
lib&lt;span class="o"&gt;/&lt;/span&gt;  &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; folder containing all dependent jars
src&lt;span class="o"&gt;/&lt;/span&gt;main&lt;span class="o"&gt;/&lt;/span&gt;
src&lt;span class="o"&gt;/&lt;/span&gt;main&lt;span class="o"&gt;/&lt;/span&gt;webapp&lt;span class="o"&gt;/&lt;/span&gt;WEB&lt;span class="o"&gt;-&lt;/span&gt;INF&lt;span class="o"&gt;/&lt;/span&gt; web.xml &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; war file&lt;span class="s"&gt;&amp;#39;&lt;/span&gt;&lt;span class="err"&gt;s web.xml&lt;/span&gt;
src&lt;span class="o"&gt;/&lt;/span&gt;main&lt;span class="o"&gt;/&lt;/span&gt;resources&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt;  various configuration files
src&lt;span class="o"&gt;/&lt;/span&gt;main&lt;span class="o"&gt;/&lt;/span&gt;java&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; Your java code
src&lt;span class="o"&gt;/&lt;/span&gt;main&lt;span class="o"&gt;/&lt;/span&gt;conf&lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;--&lt;/span&gt; Non&lt;span class="o"&gt;-&lt;/span&gt;standard location &lt;span class="kr"&gt;for&lt;/span&gt; resource file
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The &lt;a href="http://buildr.apache.org/packaging.html#war"&gt;buildr documentation&lt;/a&gt;  explains that the  /src/main/webapp will become the root of the war, your java files will be compiled and placed at /WEB-INF/classes, and the dependent jars will be put into WEB-INF/libs.&lt;/p&gt;
&lt;p&gt;Now the buildfile:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;# Generated by Buildr 1.4.5, change to your liking&lt;/span&gt;
&lt;span class="cp"&gt;# Version number for this release&lt;/span&gt;
&lt;span class="n"&gt;VERSION_NUMBER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;1.0.0&amp;quot;&lt;/span&gt;
&lt;span class="cp"&gt;#Group identifier for your projects&lt;/span&gt;
&lt;span class="n"&gt;GROUP&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;SomeWar&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;COPYRIGHT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="cp"&gt;# Specify Maven 2.0 remote repositories here&lt;/span&gt;
&lt;span class="n"&gt;repositories&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remote&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://www.ibiblio.org/maven2/&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;repositories&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;remote&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;http://repo1.maven.org/maven2/&amp;quot;&lt;/span&gt;

&lt;span class="cp"&gt;# Specifying an artifact here, Maven style&lt;/span&gt;
&lt;span class="n"&gt;SERVLET&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;javax.servlet:servlet-api:jar:2.4&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;desc&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;The SomeWar Project&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;somewar&amp;quot;&lt;/span&gt;&lt;span class="err"&gt; &lt;/span&gt;&lt;span class="k"&gt;do&lt;/span&gt;
&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;VERSION_NUMBER&lt;/span&gt;
&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;GROUP&lt;/span&gt;
&lt;span class="n"&gt;manifest&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Implementation-Vendor&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;COPYRIGHT&lt;/span&gt;

&lt;span class="cp"&gt;# Add all the jars in your lib directory to the dependencies&lt;/span&gt;
&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;with&lt;/span&gt; &lt;span class="n"&gt;Dir&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;lib/*.jar&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;

&lt;span class="cp"&gt;# Go find that servlet artifact in one of those Maven repos previously specified&lt;/span&gt;
&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;with&lt;/span&gt; &lt;span class="n"&gt;SERVLET&lt;/span&gt;

&lt;span class="cp"&gt;# Uncomment the line below to show what jars will be included in your war&lt;/span&gt;
&lt;span class="cp"&gt;# puts package(:war).libs.map()&lt;/span&gt;

&lt;span class="cp"&gt;# This final line says to include my.xml file at&lt;/span&gt;
&lt;span class="cp"&gt;# src/main/conf/ as new.xml&lt;/span&gt;
&lt;span class="cp"&gt;# at WEB-INF/classes/conf,&lt;/span&gt;
&lt;span class="cp"&gt;# and remove the jar specified by the SERVLET artifact&lt;/span&gt;
&lt;span class="n"&gt;package&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;war&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;include&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;src/main/conf/my.xml&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;as&lt;/span&gt;&lt;span class="o"&gt;=&amp;gt;&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;WEB&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;INF&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;classes&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;conf&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xml&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;libs&lt;/span&gt; &lt;span class="o"&gt;-=&lt;/span&gt; &lt;span class="n"&gt;artifacts&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;SERVLET&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That's it.&lt;/p&gt;</summary><category term="war file"></category><category term="java"></category></entry></feed>