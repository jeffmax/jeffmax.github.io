<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="jeffmax" />
        <meta name="copyright" content="jeffmax" />

        <meta name="twitter:creator" content="@jeffmaxlive">
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="scala, intellij, overly-complex, Python, " />

<meta property="og:title" content="Creating a Basic Scala Project in an IDE "/>
<meta property="og:url" content="http://jeffmax.io/creating-a-basic-scala-project-in-an-ide.html" />
<meta property="og:description" content="Getting up and running with Scala in IntelliJ" />
<meta property="og:site_name" content="jeffmax&#39;s blog" />
<meta property="og:article:author" content="jeffmax" />
<meta property="og:article:published_time" content="2013-03-23T10:20:00+01:00" />
<meta name="twitter:title" content="Creating a Basic Scala Project in an IDE ">
<meta name="twitter:description" content="Getting up and running with Scala in IntelliJ">

        <title>Creating a Basic Scala Project in an IDE  Â· jeffmax&#39;s blog
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://jeffmax.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://jeffmax.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://jeffmax.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://jeffmax.io/theme/css/custom.css" media="screen">
        <link rel="shortcut icon" href="http://jeffmax.io/theme/images/favicon.ico" type="image/x-icon" type="image/png" />
        <link rel="icon" href="http://jeffmax.io/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="http://jeffmax.io/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="http://jeffmax.io/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="http://jeffmax.io/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="http://jeffmax.io/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="http://jeffmax.io/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="http://jeffmax.io/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="http://jeffmax.io/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="http://jeffmax.io/theme/images/apple-touch-icon-152x152.png" type="image/png" />
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-22723022-3', 'auto');
    ga('send', 'pageview');
</script>
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://jeffmax.io/"><span class=site-name>jeffmax's blog</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://jeffmax.io">Home</a></li>
                            <li ><a href="http://jeffmax.io/categories.html">Categories</a></li>
                            <li ><a href="http://jeffmax.io/tags.html">Tags</a></li>
                            <li ><a href="http://jeffmax.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://jeffmax.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://jeffmax.io/creating-a-basic-scala-project-in-an-ide.html"> Creating a Basic Scala Project in an IDE  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span10 article-content">

            
            <p>The goal of this post is to help get you running with a simple but real Scala project inside an IDE. By this, I mean a small project that has external JAR dependencies. JVM languages typically need some kind of build/dependency tool to get yourself up and running because of the JAR ecosystem. <a href="http://jeffmax.io/blog/2011/04/11/create-a-war-file-without-resorting-to-opening-eclipse/">Sometimes just getting the project working with a build tool is enough</a>. With Scala, I decided to use an IDE to help get acquainted with the language. I carefully chronicled all the headaches I ran into while getting up and running and this post will describe those issues and hopefully help ease the pain for others. These instructions worked on OS X.</p>
<p>I am not an expert on Ant, Maven, Buildr, or SBT but my experience with using an IDE has taught me that you want to setup a real build tool/dependency manager even if you use an IDE. An alternative option to what I describe here is to have your IDE to create proper Maven/Ant files for you, but I suspect that is pretty complex too. If you let the IDE manage dependencies for you by using the proprietary "project" format provided by the IDE you could create problems when you commit to version control. Others will pull down your project and have some or all of the following problems:</p>
<ol>
<li>If you didn't commit your dependent JARS, they will have to find them on their own and then add them as dependencies.</li>
<li>If they don't use the same IDE you used they will be completely out of luck.</li>
<li>Even if they do use the same IDE you used, it is bound to have directory references to your machine in the project property files that will not work for them.</li>
</ol>
<p>So, we need an IDE and a build system.</p>
<h2>IDE</h2>
<p>I have chosen to go with IntelliJ. Read the rest of the section for why, or just skip to the next section. I have used Eclipse with Scala before, but it has always been buggy. I've really wanted to go with Eclipse for Scala because it is backed by Typesafe, but in my opinion it is still not ready.  The last version I tried was the one announced <a href="http://scala-ide.org/blog/3.0-final-announcement.html">here</a>. It did not work well for me, with the following problems.</p>
<ol>
<li>Eclipse froze when I built my first Scala project. Everything was there when I restarted, but that is irritating. This happened with the latest version and the previous version on two separate computers.</li>
<li>Import statements in the Worksheet was not working properly for me, and you still need to wrap code in an object to make it run in the Worksheet.</li>
<li>I was getting ghost red-x compile errors on in the left margin for lines where there was no code.</li>
<li>No support for plain Scala scripts, everything must be in an object or class.</li>
</ol>
<p>IntelliJ did not have any of those problems.</p>
<h2>Build Tool</h2>
<p>For Scala, SBT is popular. The best thing you can probably do for yourself is to read the <a href="http://www.scala-sbt.org/">SBT docs</a> before you start. Otherwise there will be a lot of guess work as you blindly copy code from the internet. My biggest problem with the SBT documentation is that it uses a lot of Scala class parameter syntax to describe the concepts. This can be overwhelming for someone learning SBT before they learn Scala. Still, it is worth powering through. One minor, but key point:</p>
<p>Typing a command after typing sbt on the command line is <em>not</em> the same as entering the SBT interactive REPL (by just typing sbt) and entering commands. This was a major source of confusion for me in the beginning. For example, to inspect a setting, you do not type </p>
<div class="highlight"><pre><span class="nx">sbt</span> <span class="nx">inspect</span> <span class="o">&lt;</span><span class="nx">setting</span><span class="o">&gt;</span>
</pre></div>


<p>You have to enter the REPL and type</p>
<div class="highlight"><pre><span class="nx">inspect</span> <span class="o">&lt;</span><span class="nx">setting</span><span class="o">&gt;</span>
</pre></div>


<h2>Get Started</h2>
<ol>
<li>
<p>Install SBT. Instructions are <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Setup.html">here</a></p>
<ol>
<li>
<p>Once you install SBT, do the following to save yourself some future pain.</p>
<ol>
<li>
<p>Set you permgen space higher for the JVM (this has something to do with space reserved for a tier of memory related to garbage collection). Create a file called .sbtconfig in your home directory and put this in it.</p>
<div class="highlight"><pre><span class="n">SBT_OPTS</span><span class="o">=</span><span class="s">&quot;-XX:+CMSClassUnloadingEnabled -XX:MaxPermSize=256M -Xmx512m -Xss2m&quot;</span>
</pre></div>


</li>
<li>
<p>Install the <a href="https://github.com/mpeltonen/sbt-idea">sbt-idea</a> SBT plugin. The instructions are on the page. This will allow SBT to create IntelliJ projects that are a reflection your SBT project configuration. That sounded confusing, but just go with it for now.</p>
</li>
<li>
<p>SBT needs the version of Scala it was compiled with to work, this is different from the version of  Scala it will use to compile your projects. This can lead to confusion, so it helps to keep it in mind. The gen-idea plugin works nicely, but currently for some reason it adds the SBT Scala version as a dependency for your projects. This is wrong. Your project is only dependent on the version of Scala you are using for your project. To disable this, create a file in your home directory called .sbtrc and place the following line in it:</p>
<div class="highlight"><pre><span class="n">alias</span> <span class="n">gen</span><span class="o">-</span><span class="n">idea</span><span class="o">=</span><span class="n">gen</span><span class="o">-</span><span class="n">idea</span> <span class="n">no</span><span class="o">-</span><span class="n">sbt</span><span class="o">-</span><span class="n">build</span><span class="o">-</span><span class="n">module</span>
</pre></div>


</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Install <a href="http://www.jetbrains.com/idea/download/">IntelliJ</a></p>
<ol>
<li>Open IntelliJ, choose "Configure" from the Quickstart menu that pops up. Then choose plugins and search for and install the Scala and SBT plugins. I am not exactly sure you need the SBT plugin, but it doesn't hurt. I believe it enables IntelliJ to use SBT to build your project, but it does not create the required IntelliJ config based off your SBT configuration (that is what the gen-idea SBT plugin does). You can read the documentation for the SBT plugin <a href="https://github.com/orfjackal/idea-sbt-plugin/wiki">here</a>.</li>
</ol>
</li>
</ol>
<h2>Create your project</h2>
<p>After all that we are now ready to create an actual project. Here is the main idea: You create a directory and  a simple file to tell SBT what version of Scala you want your project to use. You then use SBT and the gen-idea plugin to create an IntelliJ project. You can then open this project in IntelliJ and everything will work. What is the difference between doing all this vs. just creating a Scala project in IntelliJ?</p>
<ol>
<li>IntelliJ requires that you tell it per project where your Scala home directory is. This is annoying.</li>
<li>We use the SBT configuration to drive the IntelliJ configuration. You can just commit your SBT configuration files to version control, and others can generate the IntelliJ configuration if they wish to.</li>
<li>The sbt-idea plugin can be run multiple times to sync up any changes you made to your SBT configuration with the IntelliJ configuration. For example, if you use SBT to add a jar dependency, you can run the plugin to add this JAR as an IntelliJ dependency (read: generate a bunch of XML files for IntelliJ).</li>
</ol>
<p>Okay. Let's get started.</p>
<ol>
<li>Create a project directory wherever you want and descend into it.</li>
<li>
<p>Create a file called build.sbt. Put the following in it where <version> is the Scala version you want to use. Right now, I am using 2.10.1.</p>
<p>scalaVersion := "<version>"</p>
</li>
</ol>
<p>If you do not do this, the sbt-idea plugin will create a project that uses whatever version of Scala it was compiled with (probably something like 2.9.2), which is not likely to be what you want.</p>
<ol>
<li>
<p>Run the following command:</p>
<p>sbt gen-idea</p>
</li>
<li>
<p>Open IntelliJ and then open the project (not import, it is already an IntelliJ project).</p>
</li>
<li>
<p>You're done. You can create a Scala Worksheet and trying something like</p>
<div class="highlight"><pre><span class="n">println</span><span class="p">(</span><span class="s">&quot;HI&quot;</span><span class="p">)</span>
</pre></div>


<p>to see that you are in business.  </p>
</li>
</ol>
<h3>Adding JAR dependencies</h3>
<p>At this point, the most likely next complication will be that you need to use a Java or Scala library that is in a JAR. You could use the IntelliJ mechanism to add an "External Jar", but since we have made a point to make the IntelliJ configuration just a reflection of your SBT configuration, the best thing to do would be to add it using SBT and then run the</p>
<div class="highlight"><pre><span class="n">sbt</span> <span class="n">gen</span><span class="o">-</span><span class="n">idea</span>
</pre></div>


<p>command again. There are two main ways to add an SBT dependency to your project- <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Library-Dependencies.html#unmanaged-dependencies">unmanaged</a> and <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Library-Dependencies.html#managed-dependencies">managed</a>. The easiest to do is unmanaged- just create a <code>lib</code> directory in the root of your project directory and drop the JAR you need in there. If you run <code>sbt gen-idea</code> it will tell IntelliJ about it and everything will just work. However, if this is a project to be checked into version control, managed is probably the way to go. Just follow the instructions at the link above and then run <code>sbt gen-idea</code>.</p>
<h3>One last detail</h3>
<p>You can tell IntelliJ to build with SBT instead of Make (or whatever its default is). I am not exactly sure what the advantages of this is (especially since you can always do your real build from SBT since the IntelliJ configuration is just a reflection of that), but I have seen situations where the Worksheet functionality did not work properly unless you did this. Follow the instructions <a href="https://github.com/orfjackal/idea-sbt-plugin/wiki#run-configuration-settings">here</a> to do that.</p>
            
            <section>
<p id="comment-message">Thanks for reading, please leave any comments or corrections. </p>
<div class="accordion" id="accordion2">
    <div class="accordion-group">
        <div class="accordion-heading">
            <a class="accordion-toggle disqus-comment-count" data-toggle="collapse" data-parent="#accordion2"
                href="http://jeffmax.io/creating-a-basic-scala-project-in-an-ide.html#disqus_thread">
                Comments
            </a>
        </div>
        <div id="disqus_thread" class="accordion-body collapse">
            <div class="accordion-inner">
                <div class="comments">
                    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jeffmax';
        var disqus_identifier = 'http://jeffmax.io/creating-a-basic-scala-project-in-an-ide.html';
    var disqus_url = 'http://jeffmax.io/creating-a-basic-scala-project-in-an-ide.html';

    (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

                </div>
            </div>
        </div>
    </div>
</div>
</section>

            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2013-03-23T10:20:00+01:00">Mar 23, 2013</time>
            <h4>Category</h4>
            <a class="category-link" href="http://jeffmax.io/categories.html#python-ref">Python</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://jeffmax.io/tags.html#intellij-ref">intellij
                    <span>1</span>
</a></li>
                <li><a href="http://jeffmax.io/tags.html#overly-complex-ref">overly-complex
                    <span>1</span>
</a></li>
                <li><a href="http://jeffmax.io/tags.html#scala-ref">scala
                    <span>1</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="http://twitter.com/jeffmaxlive" title="My twitter Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-twitter sidebar-social-links"></i></a>
    <a href="http://github.com/jeffmax" title="My github Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-github sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

            <script type="text/javascript">
var disqus_shortname = 'jeffmax';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script  language="javascript" type="text/javascript">
function uncollapse() {
    if (window.location.hash.match(/^#comment-\d+$/)) {
        $('#disqus_thread').collapse('show');
    }
}
</script>
<script type="text/javascript" language="JavaScript">
uncollapse();
window.onhashchange=function(){
    if (window.location.hash.match(/^#comment-\d+$/))
        window.location.reload(true);
}
</script>
<script>
$('#disqus_thread').on('shown', function () {
    var link = document.getElementsByClassName('accordion-toggle');
    var old_innerHTML = link[0].innerHTML;
    $(link[0]).fadeOut(500, function() {
        $(this).text('Click here to hide comments').fadeIn(500);
    });
    $('#disqus_thread').on('hidden', function () {
        $(link[0]).fadeOut(500, function() {
            $(this).text(old_innerHTML).fadeIn(500);
        });
    })
})
</script>


    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>